(this["webpackJsonpreact-typescript"]=this["webpackJsonpreact-typescript"]||[]).push([[0],{83:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var r=n(57),a=(n(83),n(128)),i=n(118),s=n(122),c=n(31),o=n(13),l=n(59),u=n(60),d=function(){function e(){Object(l.a)(this,e),this.state={}}return Object(u.a)(e,[{key:"subscribe",value:function(e,t){this.state[e]||(this.state[e]={val:void 0,cbs:[]}),this.state[e].cbs=[].concat(Object(o.a)(this.state[e].cbs),[t])}},{key:"getState",value:function(e){return this.state[e]?this.state[e].val:null}},{key:"setState",value:function(e,t){this.state[e]||(this.state[e]={val:void 0,cbs:[]}),this.state[e]=Object(c.a)(Object(c.a)({},this.state[e]),{},{val:t}),this.state[e].cbs.forEach((function(e){e()}))}},{key:"serialize",value:function(){var e=Object(c.a)({},this.state);return Object.keys(e).forEach((function(t){e[t].cbs=[]})),JSON.stringify(e)}},{key:"initWith",value:function(e){var t=this,n=JSON.parse(JSON.parse(e));Object.keys(this.state).forEach((function(e){void 0!==n[e]?t.setState(e,n[e].val):console.warn("COULDNT FIND DATA")}))}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();d.instance=void 0;var h=n(14),g=n(115),b=n(119),f=n(121),m=n(123),j=n(116),p=n(112),v=n(124),x=n(125),O=n(126),S=n(69),w=n.n(S),y=n(65),A=n.n(y),I=n(66),R=n.n(I),C=n(63),T=n.n(C),k=n(67),F=n.n(k),L=n(68),E=n.n(L),_=n(1),P=n(2),M=1;function D(){var e=Object(_.useState)(d.getInstance().getState("recordings")),t=Object(h.a)(e,2),n=t[0],r=t[1],a=Object(_.useState)(d.getInstance().getState("SelectedRecording")),l=Object(h.a)(a,2),u=l[0],S=l[1];return d.getInstance().subscribe("recordings",(function(){r(d.getInstance().getState("recordings"))})),d.getInstance().subscribe("SelectedRecording",(function(){S(d.getInstance().getState("SelectedRecording"))})),Object(P.jsxs)(g.a,{children:[Object(P.jsx)(b.a,{title:"Recordings",titleTypographyProps:{variant:"body2",align:"center",color:"common.white"},style:{backgroundColor:"#323638"}}),Object(P.jsx)(f.a,{style:{backgroundColor:"#3b4245"},children:Object(P.jsx)(s.a,{sx:{width:"100%",height:142},children:Object(P.jsxs)(m.a,{sx:{width:"100%",height:"100%",bgcolor:"background.dark",position:"relative",overflow:"auto","& ul":{padding:0}},style:{backgroundColor:"#3b4245"},children:[Object(P.jsx)(j.a,{children:Object(P.jsx)(p.a,{style:{width:"100%"},onClick:function(){var e={name:"New Recording (".concat(M+1,")"),z_index:n.length,visible:!0,id:"".concat(M++),shapes:[],vertexData:[],colorData:[],brushSizeData:[],boundingRectData:[]};d.getInstance().setState("recordings",[Object(c.a)({},e)].concat(Object(o.a)(n))),d.getInstance().setState("SelectedRecording",e.id)},children:Object(P.jsx)(T.a,{style:{width:"100%"},sx:{color:"white"}})})}),n.map((function(e){return Object(P.jsx)(j.a,{style:{backgroundColor:e.id===u?"#1e2224":""},children:Object(P.jsxs)(i.a,{container:!0,rowSpacing:1,columns:{xs:12,sm:12,md:12},children:[Object(P.jsx)(i.a,{item:!0,xs:2,sm:2,md:2,children:Object(P.jsx)(s.a,{children:Object(P.jsx)(v.a,{id:e.id,onClick:function(e){!function(e){var t=n.find((function(t){return t.id===e}));t.visible=!t.visible;var r=n.map((function(e){return e.id==t.id?t:e}));d.getInstance().setState("recordings",Object(o.a)(r))}(e.currentTarget.id)},children:e.visible?Object(P.jsx)(A.a,{sx:{color:"white"}}):Object(P.jsx)(R.a,{sx:{color:"white"}})})})}),Object(P.jsx)(i.a,{item:!0,xs:4,sm:4,md:4,children:Object(P.jsx)(s.a,{children:Object(P.jsx)(p.a,{id:e.id,onClick:function(e){var t;t=e.currentTarget.id,d.getInstance().setState("SelectedRecording",t)},children:Object(P.jsx)(x.a,{primary:e.name,primaryTypographyProps:{variant:"body2",align:"left",color:"common.white"}})})})}),Object(P.jsx)(i.a,{item:!0,xs:6,sm:6,md:6,children:Object(P.jsxs)(O.a,{children:[Object(P.jsx)(v.a,{id:e.id,onClick:function(e){!function(e){for(var t=Object(o.a)(n),r=-1,a=0;a<n.length;a++)n[a].id===e&&(r=a);r>0&&r<n.length&&(t[r]=n[r-1],t[r-1]=n[r]),d.getInstance().setState("recordings",Object(o.a)(t))}(e.currentTarget.id)},children:Object(P.jsx)(F.a,{sx:{color:"white"}})}),Object(P.jsx)(v.a,{id:e.id,onClick:function(e){!function(e){for(var t=Object(o.a)(n),r=-1,a=0;a<n.length;a++)n[a].id===e&&(r=a);r>=0&&r<n.length-1&&(t[r]=n[r+1],t[r+1]=n[r]),d.getInstance().setState("recordings",Object(o.a)(t))}(e.currentTarget.id)},children:Object(P.jsx)(E.a,{sx:{color:"white"}})}),Object(P.jsx)(v.a,{id:e.id,onClick:function(e){!function(e){var t=n.filter((function(t){return t.id!==e})),r=d.getInstance().getState("SelectedRecording");d.getInstance().setState("recordings",Object(o.a)(t)),r===e&&d.getInstance().setState("SelectedRecording",t[0]?t[0].id:"")}(e.currentTarget.id)},children:Object(P.jsx)(w.a,{sx:{color:"white"}})})]})})]})})}))]})})})]})}var N=n(114),B=n(127);function U(){var e=Object(_.useState)(0),t=Object(h.a)(e,2),n=t[0],r=t[1],a=Object(_.useState)(0),i=Object(h.a)(a,2),s=i[0],c=i[1],o=Object(_.useState)(0),l=Object(h.a)(o,2),u=l[0],m=l[1];return d.getInstance().subscribe("slider-1",(function(){r(d.getInstance().getState("slider-1"))})),d.getInstance().subscribe("slider-2",(function(){c(d.getInstance().getState("slider-2"))})),d.getInstance().subscribe("slider-3",(function(){m(d.getInstance().getState("slider-3"))})),Object(P.jsxs)(g.a,{children:[Object(P.jsx)(b.a,{title:"Motion Controls",titleTypographyProps:{variant:"body2",align:"center",color:"common.white"},style:{backgroundColor:"#323638"}}),Object(P.jsxs)(f.a,{style:{backgroundColor:"#3b4245"},children:[Object(P.jsx)(N.a,{size:"small",value:n,min:2,"aria-label":"Small",valueLabelDisplay:"auto",onChange:function(e){var t;t=e.target.value,d.getInstance().setState("slider-1",t)}}),Object(P.jsx)(B.a,{}),Object(P.jsx)(N.a,{size:"small",value:s,min:2,"aria-label":"Small",valueLabelDisplay:"auto",onChange:function(e){var t;t=e.target.value,d.getInstance().setState("slider-2",t)}}),Object(P.jsx)(B.a,{}),Object(P.jsx)(N.a,{size:"small",value:u,min:2,"aria-label":"Small",valueLabelDisplay:"auto",onChange:function(e){var t;t=e.target.value,d.getInstance().setState("slider-3",t)}})]})]})}function z(){return Object(P.jsx)(g.a,{children:Object(P.jsx)(f.a,{style:{backgroundColor:"#3b4245"}})})}function q(e){return[].concat.apply([],Array.prototype.slice.apply(e))}function G(e){return e*Math.PI/180}function W(){var e=q(arguments);switch(e.length){case 0:e.push(0);case 1:e.push(0)}return e.splice(0,2)}function V(){var e=q(arguments);switch(e.length){case 0:e.push(0);case 1:e.push(0);case 2:e.push(0)}return e.splice(0,3)}function H(){var e=q(arguments);switch(e.length){case 0:e.push(0);case 1:e.push(0);case 2:e.push(0);case 3:e.push(1)}return e.splice(0,4)}function J(){var e=q(arguments),t=[];switch(e.length){case 0:e[0]=1;case 1:t=[H(e[0],0,0,0),H(0,e[0],0,0),H(0,0,e[0],0),H(0,0,0,e[0])];break;default:t.push(H(e)),e.splice(0,4),t.push(H(e)),e.splice(0,4),t.push(H(e)),e.splice(0,4),t.push(H(e))}return t.matrix=!0,t}function Y(e,t){var n=[];if(e.matrix&&t.matrix){if(e.length!=t.length)throw"mult(): trying to add matrices of different dimensions";for(var r=0;r<e.length;++r)if(e[r].length!=t[r].length)throw"mult(): trying to add matrices of different dimensions";for(r=0;r<e.length;++r){n.push([]);for(var a=0;a<t.length;++a){for(var i=0,s=0;s<e.length;++s)i+=e[r][s]*t[s][a];n[r].push(i)}}return n.matrix=!0,n}if(e.length!=t.length)throw"mult(): vectors are not the same dimension";for(r=0;r<e.length;++r)n.push(e[r]*t[r]);return n}function K(e,t,n){Array.isArray(e)&&3==e.length&&(n=e[2],t=e[1],e=e[0]);var r=J();return r[0][3]=e,r[1][3]=t,r[2][3]=n,r}function X(e,t){Array.isArray(t)||(t=[arguments[1],arguments[2],arguments[3]]);var n=Z(t),r=n[0],a=n[1],i=n[2],s=Math.cos(G(e)),c=1-s,o=Math.sin(G(e)),l=J(H(r*r*c+s,r*a*c-i*o,r*i*c+a*o,0),H(r*a*c+i*o,a*a*c+s,a*i*c-r*o,0),H(r*i*c-a*o,a*i*c+r*o,i*i*c+s,0),H());return l}function Q(e,t){if(e.length!=t.length)throw"dot(): vectors are not the same dimension";for(var n=0,r=0;r<e.length;++r)n+=e[r]*t[r];return n}function Z(e,t){if(t)var n=e.pop();var r=function(e){return Math.sqrt(Q(e,e))}(e);if(!isFinite(r))throw"normalize: vector "+e+" has zero length";for(var a=0;a<e.length;++a)e[a]/=r;return t&&e.push(n),e}function $(e){!0===e.matrix&&(e=function(e){if(!e.matrix)return"transpose(): trying to transpose a non-matrix";for(var t=[],n=0;n<e.length;++n){t.push([]);for(var r=0;r<e[n].length;++r)t[n].push(e[r][n])}return t.matrix=!0,t}(e));var t=e.length,n=!1;Array.isArray(e[0])&&(n=!0,t*=e[0].length);var r=new Float32Array(t);if(n)for(var a=0,i=0;i<e.length;++i)for(var s=0;s<e[i].length;++s)r[a++]=e[i][s];else for(i=0;i<e.length;++i)r[i]=e[i];return r}new Float32Array($(W())).byteLength,new Float32Array($(V())).byteLength,new Float32Array($(H())).byteLength,new Float32Array($(function(){var e=q(arguments),t=[];switch(e.length){case 0:e[0]=1;case 1:t=[W(e[0],0),W(0,e[0])];break;default:t.push(W(e)),e.splice(0,2),t.push(W(e))}return t.matrix=!0,t}())).byteLength,new Float32Array($(function(){var e=q(arguments),t=[];switch(e.length){case 0:e[0]=1;case 1:t=[V(e[0],0,0),V(0,e[0],0),V(0,0,e[0])];break;default:t.push(V(e)),e.splice(0,3),t.push(V(e)),e.splice(0,3),t.push(V(e))}return t.matrix=!0,t}())).byteLength,new Float32Array($(J())).byteLength;var ee=function(){var e=function(e,t){for(var n=["webgl","experimental-webgl","webkit-3d","moz-webgl"],r=null,a=0;a<n.length;++a){try{r=e.getContext(n[a],t)}catch(i){}if(r)break}return r};return{create3DContext:e,setupWebGL:function(t,n){function r(e){var n=t.parentNode;n&&(n.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+e+"</div></div></td></tr></table>")}if(!window.WebGLRenderingContext)return r('This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>'),null;var a=e(t,n);return a||r('It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>'),a}}}();window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)};var te,ne,re,ae,ie,se,ce,oe,le="\n        attribute  vec4 vPosition;\n        attribute  vec4 vColor;\n        varying vec4 fColor;\n        \n        uniform mat4 modelViewMatrix;\n        uniform mat4 projectionMatrix;\n        \n        void main() \n        {\n            fColor = vColor;\n            gl_Position = projectionMatrix * modelViewMatrix * vPosition;\n        }\n    ",ue="\n        precision mediump float;\n\n        varying  vec4 fColor;\n        \n        void main() \n        { \n            gl_FragColor = fColor;\n        }\n    ",de=36,he=[],ge=[],be=[H(-.5,-.5,.5,1),H(-.5,.5,.5,1),H(.5,.5,.5,1),H(.5,-.5,.5,1),H(-.5,-.5,-.5,1),H(-.5,.5,-.5,1),H(.5,.5,-.5,1),H(.5,-.5,-.5,1)],fe=[H(0,0,0,1),H(1,0,0,1),H(1,1,0,1),H(0,1,0,1),H(0,0,1,1),H(1,0,1,1),H(1,1,1,1),H(0,1,1,1)],me=.5,je=.5,pe=[0,0,0];function ve(e,t,n,r){ge.push(fe[e]),he.push(be[e]),ge.push(fe[e]),he.push(be[t]),ge.push(fe[e]),he.push(be[n]),ge.push(fe[e]),he.push(be[e]),ge.push(fe[e]),he.push(be[n]),ge.push(fe[e]),he.push(be[r])}function xe(e,t,n){var r=J();return r[0][0]=e,r[1][1]=t,r[2][2]=n,r}function Oe(){return Object(_.useEffect)(Se),Object(P.jsx)(g.a,{children:Object(P.jsx)(f.a,{style:{backgroundColor:"#3b4245"},children:Object(P.jsx)("canvas",{id:"macanvas",width:"520",height:"550"})})})}function Se(){if(!(te=document.getElementById("macanvas")))throw new Error("Couldn't create the ANIM_CANVAS");(ne=ee.setupWebGL(te,null))||alert("WebGL isn't available"),ne.viewport(0,0,te.clientWidth,te.clientHeight),ne.clearColor(.8,.8,.8,1),ne.enable(ne.DEPTH_TEST),re=function(e,t,n){var r,a;if(void 0===t)return alert("Unable to load vertex shader "),-1;if(r=e.createShader(e.VERTEX_SHADER),e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){var i="Vertex shader failed to compile.  The error log is:<pre>"+e.getShaderInfoLog(r)+"</pre>";return alert(i),-1}if(void 0===n)return alert("Unable to load Fragment shader "),-1;if(a=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(a,n),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS))return i="Fragment shader failed to compile.  The error log is:<pre>"+e.getShaderInfoLog(a)+"</pre>",alert(i),-1;var s=e.createProgram();if(e.attachShader(s,r),e.attachShader(s,a),e.linkProgram(s),!e.getProgramParameter(s,e.LINK_STATUS))return i="Shader program failed to link.  The error log is:<pre>"+e.getProgramInfoLog(s)+"</pre>",alert(i),-1;return s}(ne,le,ue),ne.useProgram(re),ve(1,0,3,2),ve(2,3,7,6),ve(3,0,4,7),ve(6,5,1,2),ve(4,5,6,7),ve(5,4,0,1),ce=ne.createBuffer(),ne.bindBuffer(ne.ARRAY_BUFFER,ce),ne.bufferData(ne.ARRAY_BUFFER,$(he),ne.STATIC_DRAW);var e=ne.getAttribLocation(re,"vPosition");ne.vertexAttribPointer(e,4,ne.FLOAT,!1,0,0),ne.enableVertexAttribArray(e),oe=ne.createBuffer(),ne.bindBuffer(ne.ARRAY_BUFFER,oe),ne.bufferData(ne.ARRAY_BUFFER,$(ge),ne.STATIC_DRAW);var t=ne.getAttribLocation(re,"vColor");ne.vertexAttribPointer(t,4,ne.FLOAT,!1,0,0),ne.enableVertexAttribArray(t),d.getInstance().subscribe("slider-1",(function(){pe[0]=d.getInstance().getState("slider-1")})),d.getInstance().subscribe("slider-2",(function(){pe[1]=d.getInstance().getState("slider-2")})),d.getInstance().subscribe("slider-3",(function(){pe[2]=d.getInstance().getState("slider-3")})),se=ne.getUniformLocation(re,"modelViewMatrix"),ie=function(e,t,n,r,a,i){if(e==t)throw"ortho(): left and right are equal";if(n==r)throw"ortho(): bottom and top are equal";if(a==i)throw"ortho(): near and far are equal";var s=t-e,c=r-n,o=i-a,l=J();return l[0][0]=2/s,l[1][1]=2/c,l[2][2]=-2/o,l[0][3]=-(e+t)/s,l[1][3]=-(r+n)/c,l[2][3]=-(a+i)/o,l}(-10,10,-10,10,-10,10),ne.uniformMatrix4fv(ne.getUniformLocation(re,"projectionMatrix"),!1,$(ie)),we()}function we(){ne.clear(ne.COLOR_BUFFER_BIT|ne.DEPTH_BUFFER_BIT),ae=X(pe[0],0,1,0),function(){var e=xe(5,2,5),t=Y(K(0,1,0),e),n=Y(ae,t);ne.uniformMatrix4fv(se,!1,$(n)),ne.drawArrays(ne.TRIANGLES,0,36)}(),ae=Y(ae,K(0,2,0)),ae=Y(ae,X(pe[1],0,0,1)),function(){var e=xe(me,5,me),t=Y(K(0,2.5,0),e),n=Y(ae,t);ne.uniformMatrix4fv(se,!1,$(n)),ne.drawArrays(ne.TRIANGLES,0,36)}(),ae=Y(ae,K(0,5,0)),ae=Y(ae,X(pe[2],0,0,1)),function(){var e=xe(je,5,je),t=Y(K(0,2.5,0),e),n=Y(ae,t);ne.uniformMatrix4fv(se,!1,$(n)),ne.drawArrays(ne.TRIANGLES,0,de)}(),requestAnimationFrame(we)}function ye(){return d.getInstance().setState("slider-1",20),d.getInstance().setState("slider-2",20),d.getInstance().setState("slider-3",20),d.getInstance().setState("timeline",[[{name:"New Recording (".concat(1,")"),z_index:0,visible:!0,id:"".concat(0),shapes:[]}]]),d.getInstance().setState("cur-timeline-node",0),d.getInstance().setState("cropping-layer",{name:"CropRecording",z_index:0,visible:!0,id:"".concat(0),shapes:[]}),d.getInstance().setState("recordings",[{name:"New Recording (".concat(1,")"),z_index:0,visible:!0,id:"".concat(0),shapes:[]}]),d.getInstance().setState("selectedRecording","0"),Object(P.jsx)("div",{className:"App",children:Object(P.jsx)(a.a,{children:Object(P.jsxs)(i.a,{container:!0,rowSpacing:1,columns:{xs:12,sm:12,md:12},children:[Object(P.jsx)(i.a,{item:!0,xs:12,sm:12,md:12,children:Object(P.jsx)(s.a,{mt:1,mb:2,children:Object(P.jsx)(z,{})})}),Object(P.jsx)(i.a,{item:!0,xs:12,sm:12,md:12,children:Object(P.jsxs)(i.a,{container:!0,rowSpacing:1,columns:{xs:12,sm:12,md:12},columnSpacing:{xs:1,sm:2,md:3},children:[Object(P.jsx)(i.a,{item:!0,xs:12,sm:6,md:2,children:Object(P.jsx)(U,{})}),Object(P.jsx)(i.a,{item:!0,xs:12,sm:6,md:6,children:Object(P.jsx)(Oe,{})}),Object(P.jsx)(i.a,{item:!0,xs:12,sm:6,md:4,children:Object(P.jsx)(s.a,{py:0,children:Object(P.jsx)(D,{})})})]})})]})})})}var Ae=document.getElementById("root");Object(r.render)(Object(P.jsx)(ye,{}),Ae)}},[[92,1,2]]]);
//# sourceMappingURL=main.eeb29c0d.chunk.js.map