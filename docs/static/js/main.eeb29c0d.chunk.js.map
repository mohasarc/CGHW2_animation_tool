{"version":3,"sources":["util/StateManager.ts","Components/Recordings.tsx","Components/MotionControls.tsx","Components/ToolBar.tsx","Common/MV.js","Common/webgl-utils.js","shaders.ts","Components/AnimArea.tsx","Common/initShaders.js","App.tsx","index.tsx"],"names":["StateManager","state","id","cb","this","val","undefined","cbs","forEach","filtered","Object","keys","key","JSON","stringify","data","parsedData","parse","setState","console","warn","instance","count","Recordings","useState","getInstance","getState","recordings","setRecordings","selectedRecording","setSelectedRecording","subscribe","Card","CardHeader","title","titleTypographyProps","variant","align","color","style","backgroundColor","CardContent","Box","sx","width","height","List","bgcolor","position","overflow","padding","ListItem","ListItemButton","onClick","newRecording","name","z_index","length","visible","shapes","vertexData","colorData","brushSizeData","boundingRectData","map","item","Grid","container","rowSpacing","columns","xs","sm","md","IconButton","e","recordingId","changingRecording","find","recording","newRecordings","toggleVisibility","currentTarget","ListItemText","primary","primaryTypographyProps","ButtonGroup","movingRecordingIndex","i","moveRecordingUp","moveRecordingDown","filter","selectedRecordingId","removeRecording","MotionControls","slider1","setSlider1","slider2","setSlider2","slider3","setSlider3","Slider","size","value","min","valueLabelDisplay","onChange","event","newSize","target","Divider","ToolBar","_argumentsToArray","args","concat","apply","Array","prototype","slice","radians","degrees","Math","PI","vec2","result","arguments","push","splice","vec3","vec4","mat4","v","m","matrix","mult","u","j","sum","k","translate","x","y","z","isArray","rotate","angle","axis","normalize","c","cos","omc","s","sin","dot","excludeLastComponent","last","pop","len","sqrt","isFinite","flatten","transpose","n","elemsAreArrays","floats","Float32Array","idx","byteLength","mat2","mat3","WebGLUtils","create3DContext","canvas","opt_attribs","names","context","ii","getContext","setupWebGL","showLink","str","parentNode","innerHTML","window","WebGLRenderingContext","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","element","setTimeout","ANIM_CANVAS","ANIM_CANVAS_GL","WEBGL_PROGRAM","modelViewMatrix","projectionMatrix","modelViewMatrixLoc","vBuffer","cBuffer","animShaders","NumVertices","points","colors","vertices","MV","vertexColors","LOWER_ARM_WIDTH","UPPER_ARM_WIDTH","theta","quad","a","b","d","scale4","AnimArea","useEffect","initAnimCanvas","document","getElementById","Error","UTILS","alert","viewport","clientWidth","clientHeight","clearColor","enable","DEPTH_TEST","gl","vertexShader","fragmentShader","vertShdr","fragShdr","createShader","VERTEX_SHADER","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","msg","getShaderInfoLog","FRAGMENT_SHADER","program","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","INIT","useProgram","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","vPosition","getAttribLocation","vertexAttribPointer","FLOAT","enableVertexAttribArray","vColor","getUniformLocation","left","right","bottom","top","near","far","w","h","uniformMatrix4fv","render","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","instanceMatrix","t","drawArrays","TRIANGLES","base","lowerArm","upperArm","App","className","Container","mt","mb","columnSpacing","py","rootElement"],"mappings":"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","file":"static/js/main.eeb29c0d.chunk.js","sourcesContent":["/**\r\n * This singleton class is used to manage the state of the whole application\r\n * Any value that can be used by two different modules should be stored in the\r\n * state manager and read from it.\r\n */\r\nexport class StateManager {\r\n    static instance: StateManager;\r\n    state: { [id: string]: { val: any, cbs: Function[] } } = {};\r\n\r\n    /**\r\n     * @param id The id of the portion of state to subscribe to\r\n     * @param cb A callback that will be called when the state of [id] has changed\r\n     */\r\n    subscribe(id: string, cb: Function): void {\r\n        if (!this.state[id])\r\n            this.state[id] = { val: undefined, cbs: [] }\r\n\r\n        this.state[id].cbs = [...this.state[id].cbs, cb];\r\n    }\r\n\r\n    /**\r\n     * Returns the value of state at [id]\r\n     * @param id The id of the portion of state to get its value\r\n     * @returns \r\n     */\r\n    getState(id: string) {\r\n        if (!this.state[id])\r\n            return null;\r\n\r\n        return this.state[id].val;\r\n    }\r\n\r\n    /**\r\n     * Update the value of state at [id]\r\n     * @param id  The id of the portion of state to set its value\r\n     * @param val The new value\r\n     */\r\n    setState(id: string, val: any) {\r\n        if (!this.state[id])\r\n            this.state[id] = { val: undefined, cbs: [] }\r\n\r\n        this.state[id] = {\r\n            ...this.state[id],\r\n            val\r\n        }\r\n\r\n        this.state[id].cbs.forEach((cb) => {\r\n            cb();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Serialize the whole state into a string\r\n     * @returns \r\n     */\r\n    serialize() {\r\n        const filtered = { ...this.state };\r\n        Object.keys(filtered).forEach((key) => {\r\n            filtered[key].cbs = [];\r\n        });\r\n\r\n        return JSON.stringify(filtered);\r\n    }\r\n\r\n    /**\r\n     * Initialize the whole state with the derialized data\r\n     * @param data The serialized data to be parsed\r\n     */\r\n    initWith(data: string) {\r\n        const parsedData = JSON.parse(JSON.parse(data));\r\n        Object.keys(this.state).forEach((key) => {\r\n            if (parsedData[key] !== undefined) {\r\n                this.setState(key, parsedData[key].val)\r\n            } else {\r\n                console.warn('COULDNT FIND DATA');\r\n            }\r\n        });\r\n    }\r\n\r\n    static getInstance(): StateManager {\r\n        if (!StateManager.instance) {\r\n            StateManager.instance = new StateManager();\r\n        }\r\n\r\n        return StateManager.instance;\r\n    }\r\n}","import {\r\n    Grid,\r\n    Card,\r\n    CardContent,\r\n    CardHeader,\r\n    ListItemText,\r\n    ListItemButton,\r\n    ListItem,\r\n    List,\r\n    Box,\r\n    IconButton,\r\n    ButtonGroup\r\n} from '@mui/material'\r\nimport ClearIcon from '@mui/icons-material/Clear';\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport ArrowDropUpIcon from '@mui/icons-material/ArrowDropUp';\r\nimport ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown';\r\nimport { useState } from 'react';\r\n\r\nimport { StateManager } from '../util/StateManager';\r\n\r\nexport interface Shape {\r\n    vertexData: number[], // Vec2\r\n    colorData: number[], // Vec4\r\n    brushSize: number[],\r\n    boundingRectData: number[], // Vec4\r\n    type: 'point' | 'triangle' | 'nofill-triangle' | 'rectangle' | 'nofill-rectangle' | 'elipse' | 'nofill-elipse',\r\n    center?: number[], // for elipse only\r\n    size?: { w: number, h: number }, // for elipse only\r\n}\r\n\r\nexport interface Recording {\r\n    name: string,\r\n    z_index: number,\r\n    visible: boolean,\r\n    id: string,\r\n    shapes: Shape[],\r\n}\r\n\r\nlet count = 1;\r\n\r\nexport function Recordings() {\r\n    const [recordings, setRecordings] = useState(StateManager.getInstance().getState('recordings'));\r\n    const [selectedRecording, setSelectedRecording] = useState(StateManager.getInstance().getState('SelectedRecording'));\r\n\r\n    StateManager.getInstance().subscribe('recordings', () => {\r\n        setRecordings(StateManager.getInstance().getState('recordings'));\r\n    });\r\n\r\n    StateManager.getInstance().subscribe('SelectedRecording', () => {\r\n        setSelectedRecording(StateManager.getInstance().getState('SelectedRecording'))\r\n    })\r\n\r\n    function addRecording() {\r\n        const newRecording = {\r\n            name: `New Recording (${count + 1})`,\r\n            z_index: recordings.length,\r\n            visible: true,\r\n            id: `${count++}`,\r\n            shapes: [],\r\n            vertexData: [],\r\n            colorData: [],\r\n            brushSizeData: [],\r\n            boundingRectData: [], // The rectangle enclosing the pixels of a particular shape\r\n        };\r\n\r\n        StateManager.getInstance().setState('recordings', [{ ...newRecording }, ...recordings]);\r\n        StateManager.getInstance().setState('SelectedRecording', newRecording.id);\r\n    }\r\n\r\n    function toggleVisibility(recordingId: string) {\r\n        const changingRecording = recordings.find((recording: Recording) => recording.id === recordingId);\r\n        changingRecording.visible = !changingRecording.visible;\r\n        const newRecordings = recordings.map((recording: Recording) => {\r\n            if (recording.id == changingRecording.id)\r\n                return changingRecording;\r\n            else\r\n                return recording;\r\n        });\r\n\r\n        StateManager.getInstance().setState('recordings', [...newRecordings]);\r\n    }\r\n\r\n    function selectRecording(recordingId: string) {\r\n        StateManager.getInstance().setState('SelectedRecording', recordingId);\r\n    }\r\n\r\n    function removeRecording(recordingId: string) {\r\n        const newRecordings = recordings.filter((recording: Recording) => recording.id !== recordingId);\r\n        const selectedRecordingId = StateManager.getInstance().getState('SelectedRecording');\r\n        StateManager.getInstance().setState('recordings', [...newRecordings]);\r\n\r\n        if (selectedRecordingId === recordingId) {\r\n            StateManager.getInstance().setState('SelectedRecording', newRecordings[0] ? newRecordings[0].id : '');\r\n        }\r\n    }\r\n\r\n    function moveRecordingUp(recordingId: string) {\r\n        const newRecordings = [...recordings];\r\n\r\n        let movingRecordingIndex: number = -1;\r\n        for (let i = 0; i < recordings.length; i++) {\r\n            if (recordings[i].id === recordingId)\r\n                movingRecordingIndex = i;\r\n        }\r\n\r\n        if (movingRecordingIndex > 0 && movingRecordingIndex < recordings.length) {\r\n            newRecordings[movingRecordingIndex] = recordings[movingRecordingIndex - 1];\r\n            newRecordings[movingRecordingIndex - 1] = recordings[movingRecordingIndex];\r\n        }\r\n\r\n        StateManager.getInstance().setState('recordings', [...newRecordings]);\r\n    }\r\n\r\n    function moveRecordingDown(recordingId: string) {\r\n        const newRecordings = [...recordings];\r\n\r\n        let movingRecordingIndex: number = -1;\r\n        for (let i = 0; i < recordings.length; i++) {\r\n            if (recordings[i].id === recordingId)\r\n                movingRecordingIndex = i;\r\n        }\r\n\r\n        if (movingRecordingIndex >= 0 && movingRecordingIndex < recordings.length - 1) {\r\n            newRecordings[movingRecordingIndex] = recordings[movingRecordingIndex + 1];\r\n            newRecordings[movingRecordingIndex + 1] = recordings[movingRecordingIndex];\r\n        }\r\n\r\n        StateManager.getInstance().setState('recordings', [...newRecordings]);\r\n    }\r\n\r\n    return (\r\n        <Card>\r\n            <CardHeader title={'Recordings'} titleTypographyProps={{ variant: 'body2', align: 'center', color: 'common.white' }} style={{ backgroundColor: '#323638' }} />\r\n            <CardContent style={{ backgroundColor: '#3b4245' }}>\r\n                <Box\r\n                    sx={{ width: '100%', height: 142 }}\r\n                >\r\n                    <List\r\n                        sx={{\r\n                            width: '100%',\r\n                            height: '100%',\r\n                            bgcolor: 'background.dark',\r\n                            position: 'relative',\r\n                            overflow: 'auto',\r\n                            '& ul': { padding: 0 },\r\n                        }}\r\n                        style={{ backgroundColor: '#3b4245' }}\r\n                    >\r\n                        <ListItem >\r\n                            <ListItemButton style={{ width: '100%' }} onClick={addRecording}>\r\n                                <AddIcon style={{ width: '100%' }} sx={{ color: 'white' }} />\r\n                            </ListItemButton>\r\n                        </ListItem>\r\n                        {recordings.map((item: Recording) => (\r\n                            <ListItem style={{ backgroundColor: item.id === selectedRecording ? '#1e2224' : '' }}>\r\n                                <Grid container rowSpacing={1} columns={{ xs: 12, sm: 12, md: 12 }} >\r\n                                    <Grid item xs={2} sm={2} md={2}>\r\n                                        <Box>\r\n                                            <IconButton id={item.id} onClick={(e) => { toggleVisibility(e.currentTarget.id) }}>\r\n                                                {\r\n                                                    item.visible\r\n                                                        ? <VisibilityIcon sx={{ color: 'white' }} />\r\n                                                        : <VisibilityOffIcon sx={{ color: 'white' }} />\r\n                                                }\r\n                                            </IconButton>\r\n                                        </Box>\r\n                                    </Grid>\r\n                                    <Grid item xs={4} sm={4} md={4}>\r\n                                        <Box>\r\n                                            <ListItemButton id={item.id} onClick={(e) => { selectRecording(e.currentTarget.id) }}>\r\n                                                <ListItemText primary={item.name} primaryTypographyProps={{ variant: 'body2', align: 'left', color: 'common.white' }} />\r\n                                            </ListItemButton>\r\n                                        </Box>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} sm={6} md={6}>\r\n                                        <ButtonGroup>\r\n                                            <IconButton id={item.id} onClick={(e) => { moveRecordingUp(e.currentTarget.id) }}>\r\n                                                <ArrowDropUpIcon sx={{ color: 'white' }} />\r\n                                            </IconButton>\r\n                                            <IconButton id={item.id} onClick={(e) => { moveRecordingDown(e.currentTarget.id) }}>\r\n                                                <ArrowDropDownIcon sx={{ color: 'white' }} />\r\n                                            </IconButton>\r\n                                            <IconButton id={item.id} onClick={(e) => { removeRecording(e.currentTarget.id) }}>\r\n                                                <ClearIcon sx={{ color: 'white' }} />\r\n                                            </IconButton>\r\n                                        </ButtonGroup>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </ListItem>\r\n                        ))}\r\n                    </List>\r\n                </Box>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n}\r\n","import { useState } from 'react';\r\nimport { Card, CardHeader, CardContent, Divider, Slider } from '@mui/material';\r\nimport { StateManager } from '../util/StateManager';\r\n\r\nexport default function MotionControls() {\r\n    const [slider1, setSlider1] = useState(0);\r\n    const [slider2, setSlider2] = useState(0);\r\n    const [slider3, setSlider3] = useState(0);\r\n\r\n    StateManager.getInstance().subscribe('slider-1', () => {\r\n        setSlider1(StateManager.getInstance().getState('slider-1'));\r\n    });\r\n\r\n    StateManager.getInstance().subscribe('slider-2', () => {\r\n        setSlider2(StateManager.getInstance().getState('slider-2'));\r\n    });\r\n\r\n    StateManager.getInstance().subscribe('slider-3', () => {\r\n        setSlider3(StateManager.getInstance().getState('slider-3'));\r\n    });\r\n\r\n    function handleSlider1Change(newSize: number) {\r\n        StateManager.getInstance().setState('slider-1', newSize);\r\n    }\r\n\r\n    function handleSlider2Change(newSize: number) {\r\n        StateManager.getInstance().setState('slider-2', newSize);\r\n    }\r\n\r\n    function handleSlider3Change(newSize: number) {\r\n        StateManager.getInstance().setState('slider-3', newSize);\r\n    }\r\n\r\n    return (\r\n        <Card>\r\n            <CardHeader title={'Motion Controls'} titleTypographyProps={{ variant: 'body2', align: 'center', color: 'common.white' }} style={{ backgroundColor: '#323638' }} />\r\n            <CardContent style={{ backgroundColor: '#3b4245' }}>\r\n                <Slider\r\n                    size=\"small\"\r\n                    value={slider1}\r\n                    min={2}\r\n                    aria-label=\"Small\"\r\n                    valueLabelDisplay=\"auto\"\r\n                    onChange={(event: any) => { handleSlider1Change(event.target.value) }}\r\n                />\r\n                <Divider />\r\n                <Slider\r\n                    size=\"small\"\r\n                    value={slider2}\r\n                    min={2}\r\n                    aria-label=\"Small\"\r\n                    valueLabelDisplay=\"auto\"\r\n                    onChange={(event: any) => { handleSlider2Change(event.target.value) }}\r\n                />\r\n                <Divider />\r\n                <Slider\r\n                    size=\"small\"\r\n                    value={slider3}\r\n                    min={2}\r\n                    aria-label=\"Small\"\r\n                    valueLabelDisplay=\"auto\"\r\n                    onChange={(event: any) => { handleSlider3Change(event.target.value) }}\r\n                />\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n}","import { Card, CardContent, Button } from '@mui/material';\r\nimport UndoOutlinedIcon from '@mui/icons-material/UndoOutlined';\r\nimport RedoOutlinedIcon from '@mui/icons-material/RedoOutlined';\r\nimport SaveOutlinedIcon from '@mui/icons-material/SaveOutlined';\r\nimport FileUploadIcon from '@mui/icons-material/FileUpload';\r\n\r\nimport { StateManager } from '../util/StateManager'\r\n\r\nexport default function ToolBar() {\r\n    return (\r\n        <Card>\r\n            <CardContent style={{ backgroundColor: '#3b4245' }}>\r\n                {/* <Button onClick={undo}>\r\n                    <UndoOutlinedIcon sx={{ color: 'white' }} />\r\n                </Button>\r\n                <Button onClick={redo}>\r\n                    <RedoOutlinedIcon sx={{ color: 'white' }} />\r\n                </Button>\r\n                <Button onClick={downloadObjectAsJson}>\r\n                    <SaveOutlinedIcon sx={{ color: 'white' }} />\r\n                </Button>\r\n                <Button component=\"label\">\r\n                    <FileUploadIcon sx={{ color: 'white' }} />\r\n                    <input\r\n                        type=\"file\"\r\n                        hidden\r\n                        onChange={changeHandler}\r\n                    />\r\n                </Button> */}\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n}\r\n\r\n/**\r\n * Src = https://stackoverflow.com/questions/19721439/download-json-object-as-a-file-from-browser\r\n */\r\nfunction downloadObjectAsJson() {\r\n    const data = StateManager.getInstance().serialize();\r\n    const exportName = 'Drawing';\r\n    const dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(data));\r\n    const downloadAnchorNode = document.createElement('a');\r\n\r\n    downloadAnchorNode.setAttribute(\"href\", dataStr);\r\n    downloadAnchorNode.setAttribute(\"download\", exportName + \".meg\");\r\n    document.body.appendChild(downloadAnchorNode); // required for firefox\r\n    downloadAnchorNode.click();\r\n    downloadAnchorNode.remove();\r\n}\r\n\r\n/**\r\n * Reads the selected file\r\n * @param event \r\n */\r\nfunction changeHandler(event: any) {\r\n    const fileReader = new FileReader();\r\n\r\n    fileReader.onload = () => {\r\n        if (fileReader.result && typeof fileReader.result === 'string')\r\n            StateManager.getInstance().initWith(fileReader.result);\r\n    }\r\n\r\n    fileReader.readAsText(event.target.files[0]);\r\n};\r\n\r\n/**\r\n * \r\n */\r\nfunction undo() {\r\n    const curTimelineNode = StateManager.getInstance().getState('cur-timeline-node');\r\n    const timeLine = StateManager.getInstance().getState('timeline');\r\n    if (curTimelineNode > 0) {\r\n        StateManager.getInstance().setState('recordings', JSON.parse(JSON.stringify(timeLine[curTimelineNode - 1])));\r\n        StateManager.getInstance().setState('cur-timeline-node', curTimelineNode - 1);\r\n    }\r\n}\r\n\r\n/**\r\n * \r\n */\r\nfunction redo() {\r\n    const curTimelineNode = StateManager.getInstance().getState('cur-timeline-node');\r\n    const timeLine = StateManager.getInstance().getState('timeline');\r\n    if (curTimelineNode < timeLine.length - 1) {\r\n        StateManager.getInstance().setState('recordings', JSON.parse(JSON.stringify(timeLine[curTimelineNode + 1])));\r\n        StateManager.getInstance().setState('cur-timeline-node', curTimelineNode + 1);\r\n    }\r\n}","//////////////////////////////////////////////////////////////////////////////\n//\n//  Angel.js\n//\n//////////////////////////////////////////////////////////////////////////////\n\n//----------------------------------------------------------------------------\n//\n//  Helper export functions\n//\n\nexport function _argumentsToArray( args )\n{\n    return [].concat.apply( [], Array.prototype.slice.apply(args) );\n}\n\n//----------------------------------------------------------------------------\n\nexport function radians( degrees ) {\n    return degrees * Math.PI / 180.0;\n}\n\n//----------------------------------------------------------------------------\n//\n//  Vector Constructors\n//\n\nexport function vec2()\n{\n    var result = _argumentsToArray( arguments );\n\n    switch ( result.length ) {\n    case 0: result.push( 0.0 );\n    case 1: result.push( 0.0 );\n    }\n\n    return result.splice( 0, 2 );\n}\n\nexport function vec3()\n{\n    var result = _argumentsToArray( arguments );\n\n    switch ( result.length ) {\n    case 0: result.push( 0.0 );\n    case 1: result.push( 0.0 );\n    case 2: result.push( 0.0 );\n    }\n\n    return result.splice( 0, 3 );\n}\n\nexport function vec4()\n{\n    var result = _argumentsToArray( arguments );\n\n    switch ( result.length ) {\n    case 0: result.push( 0.0 );\n    case 1: result.push( 0.0 );\n    case 2: result.push( 0.0 );\n    case 3: result.push( 1.0 );\n    }\n\n    return result.splice( 0, 4 );\n}\n\n//----------------------------------------------------------------------------\n//\n//  Matrix Constructors\n//\n\nexport function mat2()\n{\n    var v = _argumentsToArray( arguments );\n\n    var m = [];\n    switch ( v.length ) {\n    case 0:\n        v[0] = 1;\n    case 1:\n        m = [\n            vec2( v[0],  0.0 ),\n            vec2(  0.0, v[0] )\n        ];\n        break;\n\n    default:\n        m.push( vec2(v) );  v.splice( 0, 2 );\n        m.push( vec2(v) );\n        break;\n    }\n\n    m.matrix = true;\n\n    return m;\n}\n\n//----------------------------------------------------------------------------\n\nexport function mat3()\n{\n    var v = _argumentsToArray( arguments );\n\n    var m = [];\n    switch ( v.length ) {\n    case 0:\n        v[0] = 1;\n    case 1:\n        m = [\n            vec3( v[0],  0.0,  0.0 ),\n            vec3(  0.0, v[0],  0.0 ),\n            vec3(  0.0,  0.0, v[0] )\n        ];\n        break;\n\n    default:\n        m.push( vec3(v) );  v.splice( 0, 3 );\n        m.push( vec3(v) );  v.splice( 0, 3 );\n        m.push( vec3(v) );\n        break;\n    }\n\n    m.matrix = true;\n\n    return m;\n}\n\n//----------------------------------------------------------------------------\n\nexport function mat4()\n{\n    var v = _argumentsToArray( arguments );\n\n    var m = [];\n    switch ( v.length ) {\n    case 0:\n        v[0] = 1;\n    case 1:\n        m = [\n            vec4( v[0], 0.0,  0.0,   0.0 ),\n            vec4( 0.0,  v[0], 0.0,   0.0 ),\n            vec4( 0.0,  0.0,  v[0],  0.0 ),\n            vec4( 0.0,  0.0,  0.0,  v[0] )\n        ];\n        break;\n\n    default:\n        m.push( vec4(v) );  v.splice( 0, 4 );\n        m.push( vec4(v) );  v.splice( 0, 4 );\n        m.push( vec4(v) );  v.splice( 0, 4 );\n        m.push( vec4(v) );\n        break;\n    }\n\n    m.matrix = true;\n\n    return m;\n}\n\n//----------------------------------------------------------------------------\n//\n//  Generic Mathematical Operations for Vectors and Matrices\n//\n\nexport function equal( u, v )\n{\n    if ( u.length != v.length ) { return false; }\n   \n    if ( u.matrix && v.matrix ) {\n        for ( var i = 0; i < u.length; ++i ) {\n            if ( u[i].length != v[i].length ) { return false; }\n            for ( var j = 0; j < u[i].length; ++j ) {\n                if ( u[i][j] !== v[i][j] ) { return false; }\n            }\n        }\n    }\n    else if ( u.matrix && !v.matrix || !u.matrix && v.matrix ) {\n        return false;\n    }\n    else {\n        for ( var i = 0; i < u.length; ++i ) {\n            if ( u[i] !== v[i] ) { return false; }\n        }\n    }\n\n    return true;\n}\n\n//----------------------------------------------------------------------------\n\nexport function add( u, v )\n{\n    var result = [];\n\n    if ( u.matrix && v.matrix ) {\n        if ( u.length != v.length ) {\n            throw \"add(): trying to add matrices of different dimensions\";\n        }\n\n        for ( var i = 0; i < u.length; ++i ) {\n            if ( u[i].length != v[i].length ) {\n                throw \"add(): trying to add matrices of different dimensions\";\n            }\n            result.push( [] );\n            for ( var j = 0; j < u[i].length; ++j ) {\n                result[i].push( u[i][j] + v[i][j] );\n            }\n        }\n\n        result.matrix = true;\n\n        return result;\n    }\n    else if ( u.matrix && !v.matrix || !u.matrix && v.matrix ) {\n        throw \"add(): trying to add matrix and non-matrix variables\";\n    }\n    else {\n        if ( u.length != v.length ) {\n            throw \"add(): vectors are not the same dimension\";\n        }\n\n        for ( var i = 0; i < u.length; ++i ) {\n            result.push( u[i] + v[i] );\n        }\n\n        return result;\n    }\n}\n\n//----------------------------------------------------------------------------\n\nexport function subtract( u, v )\n{\n    var result = [];\n\n    if ( u.matrix && v.matrix ) {\n        if ( u.length != v.length ) {\n            throw \"subtract(): trying to subtract matrices\" +\n                \" of different dimensions\";\n        }\n\n        for ( var i = 0; i < u.length; ++i ) {\n            if ( u[i].length != v[i].length ) {\n                throw \"subtract(): trying to subtact matrices\" +\n                    \" of different dimensions\";\n            }\n            result.push( [] );\n            for ( var j = 0; j < u[i].length; ++j ) {\n                result[i].push( u[i][j] - v[i][j] );\n            }\n        }\n\n        result.matrix = true;\n\n        return result;\n    }\n    else if ( u.matrix && !v.matrix || !u.matrix && v.matrix ) {\n        throw \"subtact(): trying to subtact  matrix and non-matrix variables\";\n    }\n    else {\n        if ( u.length != v.length ) {\n            throw \"subtract(): vectors are not the same length\";\n        }\n\n        for ( var i = 0; i < u.length; ++i ) {\n            result.push( u[i] - v[i] );\n        }\n\n        return result;\n    }\n}\n\n//----------------------------------------------------------------------------\n\nexport function mult( u, v )\n{\n    var result = [];\n\n    if ( u.matrix && v.matrix ) {\n        if ( u.length != v.length ) {\n            throw \"mult(): trying to add matrices of different dimensions\";\n        }\n\n        for ( var i = 0; i < u.length; ++i ) {\n            if ( u[i].length != v[i].length ) {\n                throw \"mult(): trying to add matrices of different dimensions\";\n            }\n        }\n\n        for ( var i = 0; i < u.length; ++i ) {\n            result.push( [] );\n\n            for ( var j = 0; j < v.length; ++j ) {\n                var sum = 0.0;\n                for ( var k = 0; k < u.length; ++k ) {\n                    sum += u[i][k] * v[k][j];\n                }\n                result[i].push( sum );\n            }\n        }\n\n        result.matrix = true;\n\n        return result;\n    }\n    else {\n        if ( u.length != v.length ) {\n            throw \"mult(): vectors are not the same dimension\";\n        }\n\n        for ( var i = 0; i < u.length; ++i ) {\n            result.push( u[i] * v[i] );\n        }\n\n        return result;\n    }\n}\n\n//----------------------------------------------------------------------------\n//\n//  Basic Transformation Matrix Generators\n//\n\nexport function translate( x, y, z )\n{\n    if ( Array.isArray(x) && x.length == 3 ) {\n        z = x[2];\n        y = x[1];\n        x = x[0];\n    }\n\n    var result = mat4();\n    result[0][3] = x;\n    result[1][3] = y;\n    result[2][3] = z;\n\n    return result;\n}\n\n//----------------------------------------------------------------------------\n\nexport function rotate( angle, axis )\n{\n    if ( !Array.isArray(axis) ) {\n        axis = [ arguments[1], arguments[2], arguments[3] ];\n    }\n\n    var v = normalize( axis );\n\n    var x = v[0];\n    var y = v[1];\n    var z = v[2];\n\n    var c = Math.cos( radians(angle) );\n    var omc = 1.0 - c;\n    var s = Math.sin( radians(angle) );\n\n    var result = mat4(\n        vec4( x*x*omc + c,   x*y*omc - z*s, x*z*omc + y*s, 0.0 ),\n        vec4( x*y*omc + z*s, y*y*omc + c,   y*z*omc - x*s, 0.0 ),\n        vec4( x*z*omc - y*s, y*z*omc + x*s, z*z*omc + c,   0.0 ),\n        vec4()\n    );\n\n    return result;\n}\n\n//----------------------------------------------------------------------------\n\nexport function scale( x, y, z )\n{\n    if ( Array.isArray(x) && x.length == 3 ) {\n        z = x[2];\n        y = x[1];\n        x = x[0];\n    }\n\n    var result = mat4();\n    result[0][0] = x;\n    result[1][1] = y;\n    result[2][2] = z;\n\n    return result;\n}\n\n//----------------------------------------------------------------------------\n//\n//  ModelView Matrix Generators\n//\n\nexport function lookAt( eye, at, up )\n{\n    if ( !Array.isArray(eye) || eye.length != 3) {\n        throw \"lookAt(): first parameter [eye] must be an a vec3\";\n    }\n\n    if ( !Array.isArray(at) || at.length != 3) {\n        throw \"lookAt(): first parameter [at] must be an a vec3\";\n    }\n\n    if ( !Array.isArray(up) || up.length != 3) {\n        throw \"lookAt(): first parameter [up] must be an a vec3\";\n    }\n\n    if ( equal(eye, at) ) {\n        return mat4();\n    }\n\n    var v = normalize( subtract(at, eye) );  // view direction vector\n    var n = normalize( cross(v, up) );       // perpendicular vector\n    var u = normalize( cross(n, v) );        // \"new\" up vector\n\n    v = negate( v );\n\n    var result = mat4(\n        vec4( n, -dot(n, eye) ),\n        vec4( u, -dot(u, eye) ),\n        vec4( v, -dot(v, eye) ),\n        vec4()\n    );\n\n    return result;\n}\n\n//----------------------------------------------------------------------------\n//\n//  Projection Matrix Generators\n//\n\nexport function ortho( left, right, bottom, top, near, far )\n{\n    if ( left == right ) { throw \"ortho(): left and right are equal\"; }\n    if ( bottom == top ) { throw \"ortho(): bottom and top are equal\"; }\n    if ( near == far )   { throw \"ortho(): near and far are equal\"; }\n\n    var w = right - left;\n    var h = top - bottom;\n    var d = far - near;\n\n    var result = mat4();\n    result[0][0] = 2.0 / w;\n    result[1][1] = 2.0 / h;\n    result[2][2] = -2.0 / d;\n    result[0][3] = -(left + right) / w;\n    result[1][3] = -(top + bottom) / h;\n    result[2][3] = -(near + far) / d;\n\n    return result;\n}\n\n//----------------------------------------------------------------------------\n\nexport function perspective( fovy, aspect, near, far )\n{\n    var f = 1.0 / Math.tan( radians(fovy) / 2 );\n    var d = far - near;\n\n    var result = mat4();\n    result[0][0] = f / aspect;\n    result[1][1] = f;\n    result[2][2] = -(near + far) / d;\n    result[2][3] = -2 * near * far / d;\n    result[3][2] = -1;\n    result[3][3] = 0.0;\n\n    return result;\n}\n\n//----------------------------------------------------------------------------\n//\n//  Matrix export functions\n//\n\nexport function transpose( m )\n{\n    if ( !m.matrix ) {\n        return \"transpose(): trying to transpose a non-matrix\";\n    }\n\n    var result = [];\n    for ( var i = 0; i < m.length; ++i ) {\n        result.push( [] );\n        for ( var j = 0; j < m[i].length; ++j ) {\n            result[i].push( m[j][i] );\n        }\n    }\n\n    result.matrix = true;\n    \n    return result;\n}\n\n//----------------------------------------------------------------------------\n//\n//  Vector export functions\n//\n\nexport function dot( u, v )\n{\n    if ( u.length != v.length ) {\n        throw \"dot(): vectors are not the same dimension\";\n    }\n\n    var sum = 0.0;\n    for ( var i = 0; i < u.length; ++i ) {\n        sum += u[i] * v[i];\n    }\n\n    return sum;\n}\n\n//----------------------------------------------------------------------------\n\nexport function negate( u )\n{\n    var result = [];\n    for ( var i = 0; i < u.length; ++i ) {\n        result.push( -u[i] );\n    }\n\n    return result;\n}\n\n//----------------------------------------------------------------------------\n\nexport function cross( u, v )\n{\n    if ( !Array.isArray(u) || u.length < 3 ) {\n        throw \"cross(): first argument is not a vector of at least 3\";\n    }\n\n    if ( !Array.isArray(v) || v.length < 3 ) {\n        throw \"cross(): second argument is not a vector of at least 3\";\n    }\n\n    var result = [ \n        u[1]*v[2] - u[2]*v[1],\n        u[2]*v[0] - u[0]*v[2],\n        u[0]*v[1] - u[1]*v[0]\n    ];\n\n    return result;\n}\n\n//----------------------------------------------------------------------------\n\nexport function length( u )\n{\n    return Math.sqrt( dot(u, u) );\n}\n\n//----------------------------------------------------------------------------\n\nexport function normalize( u, excludeLastComponent )\n{ \n    if ( excludeLastComponent ) {\n        var last = u.pop();\n    }\n    \n    var len = length( u );\n\n    if ( !isFinite(len) ) {\n        throw \"normalize: vector \" + u + \" has zero length\";\n    }\n    \n    for ( var i = 0; i < u.length; ++i ) {\n        u[i] /= len;\n    }\n\n    if ( excludeLastComponent ) {\n        u.push( last );\n    }\n            \n    return u;\n}\n\n//----------------------------------------------------------------------------\n\nexport function mix( u, v, s )\n{\n    if ( typeof s !== \"number\" ) {\n        throw \"mix: the last paramter \" + s + \" must be a number\";\n    }\n    \n    if ( u.length != v.length ) {\n        throw \"vector dimension mismatch\";\n    }\n\n    var result = [];\n    for ( var i = 0; i < u.length; ++i ) {\n        result.push( (1.0 - s) * u[i] +  s * v[i] );\n    }\n\n    return result;\n}\n\n//----------------------------------------------------------------------------\n//\n// Vector and Matrix export functions\n//\n\nexport function scaleSU( s, u )\n{\n    if ( !Array.isArray(u) ) {\n        throw \"scale: second parameter \" + u + \" is not a vector\";\n    }\n\n    var result = [];\n    for ( var i = 0; i < u.length; ++i ) {\n        result.push( s * u[i] );\n    }\n    \n    return result;\n}\n\n//----------------------------------------------------------------------------\n//\n//\n//\n\nexport function flatten( v )\n{\n    if ( v.matrix === true ) {\n        v = transpose( v );\n    }\n\n    var n = v.length;\n    var elemsAreArrays = false;\n\n    if ( Array.isArray(v[0]) ) {\n        elemsAreArrays = true;\n        n *= v[0].length;\n    }\n\n    var floats = new Float32Array( n );\n\n    if ( elemsAreArrays ) {\n        var idx = 0;\n        for ( var i = 0; i < v.length; ++i ) {\n            for ( var j = 0; j < v[i].length; ++j ) {\n                floats[idx++] = v[i][j];\n            }\n        }\n    }\n    else {\n        for ( var i = 0; i < v.length; ++i ) {\n            floats[i] = v[i];\n        }\n    }\n\n    return floats;\n}\n\n//----------------------------------------------------------------------------\n\nexport var sizeof = {\n    'vec2' : new Float32Array( flatten(vec2()) ).byteLength,\n    'vec3' : new Float32Array( flatten(vec3()) ).byteLength,\n    'vec4' : new Float32Array( flatten(vec4()) ).byteLength,\n    'mat2' : new Float32Array( flatten(mat2()) ).byteLength,\n    'mat3' : new Float32Array( flatten(mat3()) ).byteLength,\n    'mat4' : new Float32Array( flatten(mat4()) ).byteLength\n};\n","/*\r\n * Copyright 2010, Google Inc.\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are\r\n * met:\r\n *\r\n *     * Redistributions of source code must retain the above copyright\r\n * notice, this list of conditions and the following disclaimer.\r\n *     * Redistributions in binary form must reproduce the above\r\n * copyright notice, this list of conditions and the following disclaimer\r\n * in the documentation and/or other materials provided with the\r\n * distribution.\r\n *     * Neither the name of Google Inc. nor the names of its\r\n * contributors may be used to endorse or promote products derived from\r\n * this software without specific prior written permission.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\r\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\r\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\r\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\r\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\r\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\r\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\r\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\r\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n */\r\n\r\n\r\n/**\r\n * @fileoverview This file contains functions every webgl program will need\r\n * a version of one way or another.\r\n *\r\n * Instead of setting up a context manually it is recommended to\r\n * use. This will check for success or failure. On failure it\r\n * will attempt to present an appropriate message to the user.\r\n *\r\n *       gl = WebGLUtils.setupWebGL(canvas);\r\n *\r\n * For animated WebGL apps use of setTimeout or setInterval are\r\n * discouraged. It is recommended you structure your rendering\r\n * loop like this.\r\n *\r\n *       function render() {\r\n *         window.requestAnimFrame(render, canvas);\r\n *\r\n *         // do rendering\r\n *         ...\r\n *       }\r\n *       render();\r\n *\r\n * This will call your rendering function up to the refresh rate\r\n * of your display but will stop rendering if your app is not\r\n * visible.\r\n */\r\n\r\nexport let WebGLUtils = function() {\r\n\r\n/**\r\n * Creates the HTLM for a failure message\r\n * @param {string} canvasContainerId id of container of th\r\n *        canvas.\r\n * @return {string} The html.\r\n */\r\nvar makeFailHTML = function(msg) {\r\n  return '' +\r\n    '<table style=\"background-color: #8CE; width: 100%; height: 100%;\"><tr>' +\r\n    '<td align=\"center\">' +\r\n    '<div style=\"display: table-cell; vertical-align: middle;\">' +\r\n    '<div style=\"\">' + msg + '</div>' +\r\n    '</div>' +\r\n    '</td></tr></table>';\r\n};\r\n\r\n/**\r\n * Message for getting a webgl browser\r\n * @type {string}\r\n */\r\nvar GET_A_WEBGL_BROWSER = '' +\r\n  'This page requires a browser that supports WebGL.<br/>' +\r\n  '<a href=\"http://get.webgl.org\">Click here to upgrade your browser.</a>';\r\n\r\n/**\r\n * Mesasge for need better hardware\r\n * @type {string}\r\n */\r\nvar OTHER_PROBLEM = '' +\r\n  \"It doesn't appear your computer can support WebGL.<br/>\" +\r\n  '<a href=\"http://get.webgl.org/troubleshooting/\">Click here for more information.</a>';\r\n\r\n/**\r\n * Creates a webgl context. If creation fails, it will\r\n * change the contents of the container of the <canvas>\r\n * tag to an error message with the correct links for WebGL.\r\n * @param {Element} canvas. The canvas element to create a\r\n *     context from.\r\n * @param {WebGLContextCreationAttributes} opt_attribs Any\r\n *     creation attributes you want to pass in.\r\n * @return {WebGLRenderingContext} The created context.\r\n */\r\nvar setupWebGL = function(canvas, opt_attribs) {\r\n  function showLink(str) {\r\n    var container = canvas.parentNode;\r\n    if (container) {\r\n      container.innerHTML = makeFailHTML(str);\r\n    }\r\n  };\r\n\r\n  if (!window.WebGLRenderingContext) {\r\n    showLink(GET_A_WEBGL_BROWSER);\r\n    return null;\r\n  }\r\n\r\n  var context = create3DContext(canvas, opt_attribs);\r\n  if (!context) {\r\n    showLink(OTHER_PROBLEM);\r\n  }\r\n  return context;\r\n};\r\n\r\n/**\r\n * Creates a webgl context.\r\n * @param {!Canvas} canvas The canvas tag to get context\r\n *     from. If one is not passed in one will be created.\r\n * @return {!WebGLContext} The created context.\r\n */\r\nvar create3DContext = function(canvas, opt_attribs) {\r\n  var names = [\"webgl\", \"experimental-webgl\", \"webkit-3d\", \"moz-webgl\"];\r\n  var context = null;\r\n  for (var ii = 0; ii < names.length; ++ii) {\r\n    try {\r\n      context = canvas.getContext(names[ii], opt_attribs);\r\n    } catch(e) {}\r\n    if (context) {\r\n      break;\r\n    }\r\n  }\r\n  return context;\r\n}\r\n\r\nreturn {\r\n  create3DContext: create3DContext,\r\n  setupWebGL: setupWebGL\r\n};\r\n}();\r\n\r\n/**\r\n * Provides requestAnimationFrame in a cross browser way.\r\n */\r\nwindow.requestAnimFrame = (function() {\r\n  return window.requestAnimationFrame ||\r\n         window.webkitRequestAnimationFrame ||\r\n         window.mozRequestAnimationFrame ||\r\n         window.oRequestAnimationFrame ||\r\n         window.msRequestAnimationFrame ||\r\n         function(/* function FrameRequestCallback */ callback, /* DOMElement Element */ element) {\r\n           window.setTimeout(callback, 1000/60);\r\n         };\r\n})();","export const animShaders = {\r\n    vertexShader: `\r\n        attribute  vec4 vPosition;\r\n        attribute  vec4 vColor;\r\n        varying vec4 fColor;\r\n        \r\n        uniform mat4 modelViewMatrix;\r\n        uniform mat4 projectionMatrix;\r\n        \r\n        void main() \r\n        {\r\n            fColor = vColor;\r\n            gl_Position = projectionMatrix * modelViewMatrix * vPosition;\r\n        }\r\n    `,\r\n    fragmentShader: `\r\n        precision mediump float;\r\n\r\n        varying  vec4 fColor;\r\n        \r\n        void main() \r\n        { \r\n            gl_FragColor = fColor;\r\n        }\r\n    `,\r\n}","import { Card, CardContent } from '@mui/material';\r\nimport { useEffect } from \"react\";\r\nimport * as MV from '../Common/MV';\r\nimport * as INIT from '../Common/initShaders';\r\nimport * as UTILS from '../Common/webgl-utils';\r\n\r\nimport { animShaders } from '../shaders';\r\nimport { StateManager } from \"../util/StateManager\";\r\n\r\n// Global variables\r\nlet ANIM_CANVAS: any;\r\nlet ANIM_CANVAS_GL: WebGLRenderingContext;\r\nlet WEBGL_PROGRAM: any;\r\n\r\n// ))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))\r\nvar NumVertices = 36; //(6 faces)(2 trianANIM_CANVAS_GLes/face)(3 vertices/trianANIM_CANVAS_GLe)\r\n\r\nvar points: any[] = [];\r\nvar colors: any[] = [];\r\n\r\nvar vertices = [\r\n    MV.vec4( -0.5, -0.5,  0.5, 1.0 ),\r\n    MV.vec4( -0.5,  0.5,  0.5, 1.0 ),\r\n    MV.vec4(  0.5,  0.5,  0.5, 1.0 ),\r\n    MV.vec4(  0.5, -0.5,  0.5, 1.0 ),\r\n    MV.vec4( -0.5, -0.5, -0.5, 1.0 ),\r\n    MV.vec4( -0.5,  0.5, -0.5, 1.0 ),\r\n    MV.vec4(  0.5,  0.5, -0.5, 1.0 ),\r\n    MV.vec4(  0.5, -0.5, -0.5, 1.0 )\r\n];\r\n\r\n// RGBA colors\r\nvar vertexColors = [\r\n    MV.vec4( 0.0, 0.0, 0.0, 1.0 ),  // black\r\n    MV.vec4( 1.0, 0.0, 0.0, 1.0 ),  // red\r\n    MV.vec4( 1.0, 1.0, 0.0, 1.0 ),  // yellow\r\n    MV.vec4( 0.0, 1.0, 0.0, 1.0 ),  // green\r\n    MV.vec4( 0.0, 0.0, 1.0, 1.0 ),  // blue\r\n    MV.vec4( 1.0, 0.0, 1.0, 1.0 ),  // magenta\r\n    MV.vec4( 1.0, 1.0, 1.0, 1.0 ),  // white\r\n    MV.vec4( 0.0, 1.0, 1.0, 1.0 )   // cyan\r\n];\r\n\r\n// Parameters controlling the size of the Robot's arm\r\nvar BASE_HEIGHT      = 2.0;\r\nvar BASE_WIDTH       = 5.0;\r\nvar LOWER_ARM_HEIGHT = 5.0;\r\nvar LOWER_ARM_WIDTH  = 0.5;\r\nvar UPPER_ARM_HEIGHT = 5.0;\r\nvar UPPER_ARM_WIDTH  = 0.5;\r\n\r\n// Shader transformation matrices\r\nvar modelViewMatrix: any, projectionMatrix;\r\n\r\n// Array of rotation anANIM_CANVAS_GLes (in degrees) for each rotation axis\r\nvar Base = 0;\r\nvar LowerArm = 1;\r\nvar UpperArm = 2;\r\n\r\nvar theta= [ 0, 0, 0];\r\n\r\nvar anANIM_CANVAS_GLe = 0;\r\n\r\nvar modelViewMatrixLoc: any;\r\n\r\nvar vBuffer, cBuffer;\r\n\r\nfunction quad(a: number, b: number, c: number, d: number) {\r\n    colors.push(vertexColors[a]); \r\n    points.push(vertices[a]); \r\n    colors.push(vertexColors[a]); \r\n    points.push(vertices[b]); \r\n    colors.push(vertexColors[a]); \r\n    points.push(vertices[c]);\r\n    colors.push(vertexColors[a]); \r\n    points.push(vertices[a]); \r\n    colors.push(vertexColors[a]); \r\n    points.push(vertices[c]); \r\n    colors.push(vertexColors[a]); \r\n    points.push(vertices[d]); \r\n}\r\n\r\nfunction colorCube() {\r\n    quad( 1, 0, 3, 2 );\r\n    quad( 2, 3, 7, 6 );\r\n    quad( 3, 0, 4, 7 );\r\n    quad( 6, 5, 1, 2 );\r\n    quad( 4, 5, 6, 7 );\r\n    quad( 5, 4, 0, 1 );\r\n}\r\n\r\n// Remmove when scale in MV.js supports scale matrices\r\nfunction scale4(a: number, b: number, c: number) {\r\n   var result = MV.mat4();\r\n   result[0][0] = a;\r\n   result[1][1] = b;\r\n   result[2][2] = c;\r\n   return result;\r\n}\r\n\r\n// ))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))\r\n\r\nexport default function AnimArea() {\r\n    useEffect(initAnimCanvas);\r\n\r\n    return (\r\n        <Card>\r\n            <CardContent style={{ backgroundColor: '#3b4245' }}>\r\n                <canvas id={'macanvas'} width={'520'} height={'550'} />\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n}\r\n\r\n/**\r\n * Initializes webANIM_CANVAS_GL for the main painiting ANIM_CANVAS\r\n */\r\nfunction initAnimCanvas() {\r\n    ANIM_CANVAS = document.getElementById('macanvas');\r\n    if (!ANIM_CANVAS)\r\n        throw new Error('Couldn\\'t create the ANIM_CANVAS');\r\n\r\n    ANIM_CANVAS_GL = UTILS.WebGLUtils.setupWebGL(ANIM_CANVAS, null);\r\n    if (!ANIM_CANVAS_GL) { alert(\"WebGL isn't available\"); }\r\n\r\n    ANIM_CANVAS_GL.viewport(0, 0, ANIM_CANVAS.clientWidth, ANIM_CANVAS.clientHeight);\r\n    ANIM_CANVAS_GL.clearColor(0.8, 0.8, 0.8, 1.0);\r\n    ANIM_CANVAS_GL.enable(ANIM_CANVAS_GL.DEPTH_TEST);\r\n\r\n    /*****  Load shaders and initialize attribute buffers *****/\r\n    WEBGL_PROGRAM = INIT.initShaders(ANIM_CANVAS_GL, animShaders.vertexShader, animShaders.fragmentShader);\r\n    ANIM_CANVAS_GL.useProgram(WEBGL_PROGRAM);\r\n\r\n    //  Load shaders and initialize attribute buffers\r\n    colorCube();\r\n\r\n    // Create and initialize  buffer objects\r\n    vBuffer = ANIM_CANVAS_GL.createBuffer();\r\n    ANIM_CANVAS_GL.bindBuffer( ANIM_CANVAS_GL.ARRAY_BUFFER, vBuffer );\r\n    ANIM_CANVAS_GL.bufferData( ANIM_CANVAS_GL.ARRAY_BUFFER, MV.flatten(points), ANIM_CANVAS_GL.STATIC_DRAW );\r\n    \r\n    var vPosition = ANIM_CANVAS_GL.getAttribLocation( WEBGL_PROGRAM, \"vPosition\" );\r\n    ANIM_CANVAS_GL.vertexAttribPointer( vPosition, 4, ANIM_CANVAS_GL.FLOAT, false, 0, 0 );\r\n    ANIM_CANVAS_GL.enableVertexAttribArray( vPosition );\r\n\r\n    cBuffer = ANIM_CANVAS_GL.createBuffer();\r\n    ANIM_CANVAS_GL.bindBuffer( ANIM_CANVAS_GL.ARRAY_BUFFER, cBuffer );\r\n    ANIM_CANVAS_GL.bufferData( ANIM_CANVAS_GL.ARRAY_BUFFER, MV.flatten(colors), ANIM_CANVAS_GL.STATIC_DRAW );\r\n\r\n    var vColor = ANIM_CANVAS_GL.getAttribLocation( WEBGL_PROGRAM, \"vColor\" );\r\n    ANIM_CANVAS_GL.vertexAttribPointer( vColor, 4, ANIM_CANVAS_GL.FLOAT, false, 0, 0 );\r\n    ANIM_CANVAS_GL.enableVertexAttribArray( vColor );\r\n\r\n    StateManager.getInstance().subscribe('slider-1', () => {\r\n        theta[0] = StateManager.getInstance().getState('slider-1');\r\n    });\r\n\r\n    StateManager.getInstance().subscribe('slider-2', () => {\r\n        theta[1] = StateManager.getInstance().getState('slider-2');\r\n    });\r\n\r\n    StateManager.getInstance().subscribe('slider-3', () => {\r\n        theta[2] = StateManager.getInstance().getState('slider-3');\r\n    });\r\n\r\n    modelViewMatrixLoc = ANIM_CANVAS_GL.getUniformLocation(WEBGL_PROGRAM, \"modelViewMatrix\");\r\n\r\n    projectionMatrix = MV.ortho(-10, 10, -10, 10, -10, 10);\r\n    ANIM_CANVAS_GL.uniformMatrix4fv( ANIM_CANVAS_GL.getUniformLocation(WEBGL_PROGRAM, \"projectionMatrix\"),  false, MV.flatten(projectionMatrix) );\r\n    \r\n    render();\r\n}\r\n\r\n/**\r\n * This function will be called on every fram to calculate what to draw to the frame buffer\r\n */\r\nfunction render() {\r\n   ANIM_CANVAS_GL.clear( ANIM_CANVAS_GL.COLOR_BUFFER_BIT |ANIM_CANVAS_GL.DEPTH_BUFFER_BIT );\r\n\r\n    modelViewMatrix = MV.rotate(theta[Base], 0, 1, 0 );\r\n    base();\r\n\r\n    modelViewMatrix = MV.mult(modelViewMatrix, MV.translate(0.0, BASE_HEIGHT, 0.0)); \r\n    modelViewMatrix = MV.mult(modelViewMatrix, MV.rotate(theta[LowerArm], 0, 0, 1 ));\r\n    lowerArm();\r\n\r\n    modelViewMatrix  = MV.mult(modelViewMatrix, MV.translate(0.0, LOWER_ARM_HEIGHT, 0.0));\r\n    modelViewMatrix  = MV.mult(modelViewMatrix, MV.rotate(theta[UpperArm], 0, 0, 1) );\r\n    upperArm();\r\n\r\n    requestAnimationFrame(render);\r\n}\r\n\r\nfunction base() {\r\n    var s = scale4(BASE_WIDTH, BASE_HEIGHT, BASE_WIDTH);\r\n    var instanceMatrix = MV.mult( MV.translate( 0.0, 0.5 * BASE_HEIGHT, 0.0 ), s);\r\n    var t = MV.mult(modelViewMatrix, instanceMatrix);\r\n    ANIM_CANVAS_GL.uniformMatrix4fv(modelViewMatrixLoc,  false, MV.flatten(t) );\r\n    ANIM_CANVAS_GL.drawArrays( ANIM_CANVAS_GL.TRIANGLES, 0, NumVertices );\r\n}\r\n\r\nfunction upperArm() {\r\n    var s = scale4(UPPER_ARM_WIDTH, UPPER_ARM_HEIGHT, UPPER_ARM_WIDTH);\r\n    var instanceMatrix = MV.mult(MV.translate( 0.0, 0.5 * UPPER_ARM_HEIGHT, 0.0 ),s);    \r\n    var t = MV.mult(modelViewMatrix, instanceMatrix);\r\n    ANIM_CANVAS_GL.uniformMatrix4fv( modelViewMatrixLoc,  false, MV.flatten(t) );\r\n    ANIM_CANVAS_GL.drawArrays( ANIM_CANVAS_GL.TRIANGLES, 0, NumVertices );\r\n}\r\n\r\nfunction lowerArm() {\r\n    var s = scale4(LOWER_ARM_WIDTH, LOWER_ARM_HEIGHT, LOWER_ARM_WIDTH);\r\n    var instanceMatrix = MV.mult( MV.translate( 0.0, 0.5 * LOWER_ARM_HEIGHT, 0.0 ), s);\r\n    var t = MV.mult(modelViewMatrix, instanceMatrix);\r\n    ANIM_CANVAS_GL.uniformMatrix4fv( modelViewMatrixLoc,  false, MV.flatten(t) );\r\n    ANIM_CANVAS_GL.drawArrays( ANIM_CANVAS_GL.TRIANGLES, 0, NumVertices );\r\n}\r\n","//\n//  initShaders.js\n//\n\nexport function initShaders( gl, vertexShader, fragmentShader )\n{\n    var vertShdr;\n    var fragShdr;\n\n    if ( vertexShader === undefined ) { \n        alert( \"Unable to load vertex shader \" );\n        return -1;\n    }\n    else {\n        vertShdr = gl.createShader( gl.VERTEX_SHADER );\n        gl.shaderSource( vertShdr, vertexShader );\n        gl.compileShader( vertShdr );\n        if ( !gl.getShaderParameter(vertShdr, gl.COMPILE_STATUS) ) {\n            var msg = \"Vertex shader failed to compile.  The error log is:\"\n        \t+ \"<pre>\" + gl.getShaderInfoLog( vertShdr ) + \"</pre>\";\n            alert( msg );\n            return -1;\n        }\n    }\n\n    if ( fragmentShader === undefined ) { \n        alert( \"Unable to load Fragment shader \" );\n        return -1;\n    }\n    else {\n        fragShdr = gl.createShader( gl.FRAGMENT_SHADER );\n        gl.shaderSource( fragShdr, fragmentShader );\n        gl.compileShader( fragShdr );\n        if ( !gl.getShaderParameter(fragShdr, gl.COMPILE_STATUS) ) {\n            var msg = \"Fragment shader failed to compile.  The error log is:\"\n        \t+ \"<pre>\" + gl.getShaderInfoLog( fragShdr ) + \"</pre>\";\n            alert( msg );\n            return -1;\n        }\n    }\n\n    var program = gl.createProgram();\n    gl.attachShader( program, vertShdr );\n    gl.attachShader( program, fragShdr );\n    gl.linkProgram( program );\n    \n    if ( !gl.getProgramParameter(program, gl.LINK_STATUS) ) {\n        var msg = \"Shader program failed to link.  The error log is:\"\n            + \"<pre>\" + gl.getProgramInfoLog( program ) + \"</pre>\";\n        alert( msg );\n        return -1;\n    }\n\n    return program;\n}\n","import \"./styles.css\";\r\nimport { Container, Grid, Box } from \"@mui/material\";\r\nimport { StateManager } from \"./util/StateManager\";\r\nimport { Recordings } from \"./Components/Recordings\";\r\nimport MotionControls from \"./Components/MotionControls\";\r\nimport ToolBar from \"./Components/ToolBar\";\r\nimport AnimArea from \"./Components/AnimArea\";\r\n\r\n\r\nexport default function App() {\r\n    // Initial value\r\n    StateManager.getInstance().setState('slider-1', 20);\r\n    StateManager.getInstance().setState('slider-2', 20);\r\n    StateManager.getInstance().setState('slider-3', 20);\r\n    StateManager.getInstance().setState('timeline', [[{\r\n        name: `New Recording (${1})`,\r\n        z_index: 0,\r\n        visible: true,\r\n        id: `${0}`,\r\n        shapes: [],\r\n    }]]);\r\n    StateManager.getInstance().setState('cur-timeline-node', 0);\r\n    StateManager.getInstance().setState('cropping-layer', {\r\n        name: `CropRecording`,\r\n        z_index: 0,\r\n        visible: true,\r\n        id: `${0}`,\r\n        shapes: [],\r\n    });\r\n    StateManager.getInstance().setState('recordings', [{\r\n        name: `New Recording (${1})`,\r\n        z_index: 0,\r\n        visible: true,\r\n        id: `${0}`,\r\n        shapes: [],\r\n    }]);\r\n    StateManager.getInstance().setState('selectedRecording', '0');\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <Container>\r\n                <Grid container rowSpacing={1} columns={{ xs: 12, sm: 12, md: 12 }} >\r\n                    <Grid item xs={12} sm={12} md={12}>\r\n                        <Box mt={1} mb={2}>\r\n                            <ToolBar></ToolBar>\r\n                        </Box>\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={12} md={12}>\r\n                        <Grid container rowSpacing={1} columns={{ xs: 12, sm: 12, md: 12 }} columnSpacing={{ xs: 1, sm: 2, md: 3 }}>\r\n                            <Grid item xs={12} sm={6} md={2}>\r\n                                <MotionControls />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} sm={6} md={6} >\r\n                                <AnimArea />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} sm={6} md={4}>\r\n                                <Box py={0}>\r\n                                    <Recordings />\r\n                                </Box>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Container>\r\n        </div>\r\n    );\r\n}\r\n","import { render } from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nrender(<App />, rootElement);\r\n"],"sourceRoot":""}