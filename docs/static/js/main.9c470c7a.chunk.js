(this["webpackJsonpreact-typescript"]=this["webpackJsonpreact-typescript"]||[]).push([[0],{69:function(t){t.exports=JSON.parse('{"name":"Lower Body","values":{"anim":true,"rx":[0],"ry":[0],"rz":[0],"anchorX":[0],"anchorY":[-0.5],"anchorZ":[0],"w":[12],"h":[5],"l":[5],"thetaX":[0],"thetaY":[0],"thetaZ":[0],"color":[[0.31,0.16,0.04,1]]},"children":[{"name":"Upper Body","values":{"anim":true,"rx":[-3.5],"ry":[0],"rz":[0],"anchorX":[0],"anchorY":[0.5],"anchorZ":[0],"w":[5],"h":[4],"l":[4],"thetaX":[0],"thetaY":[0],"thetaZ":[0],"limits":{"thetaX":{"max":45,"min":-45},"thetaY":{"max":90,"min":-90},"thetaZ":{"max":85,"min":-20}},"color":[[0,0,0.35,1]]},"children":[{"name":"neck","values":{"anim":true,"rx":[0],"ry":[4],"rz":[0],"anchorX":[0],"anchorY":[0],"anchorZ":[0],"w":[1],"h":[1],"l":[1],"thetaX":[0],"thetaY":[0],"thetaZ":[0],"color":[[0.8,0.67,0.55,1]],"limits":{"thetaX":{"max":60,"min":-60},"thetaY":{"max":90,"min":-90},"thetaZ":{"max":90,"min":-70}}},"children":[{"name":"head","values":{"anim":false,"rx":[0],"ry":[0.5],"rz":[0],"anchorX":[0],"anchorY":[0.5],"anchorZ":[0],"w":[2],"h":[2],"l":[2],"thetaX":[0],"thetaY":[0],"thetaZ":[0],"color":[[0.8,0.67,0.55,1]]},"children":[{"name":"Left Eye","values":{"anim":false,"rx":[-1],"ry":[1.5],"rz":[-0.5],"anchorX":[0],"anchorY":[0],"anchorZ":[0],"w":[0.25],"h":[0.25],"l":[0.25],"thetaX":[0],"thetaY":[0],"thetaZ":[0],"color":[[0,0,1,1]]}},{"name":"Right Eye","values":{"anim":false,"rx":[-1],"ry":[1.5],"rz":[0.5],"anchorX":[0],"anchorY":[0],"anchorZ":[0],"w":[0.25],"h":[0.25],"l":[0.25],"thetaX":[0],"thetaY":[0],"thetaZ":[0],"color":[[0,0,1,1]]}},{"name":"nose","values":{"anim":false,"rx":[-1],"ry":[1],"rz":[0],"anchorX":[0],"anchorY":[0],"anchorZ":[0],"w":[0.25],"h":[0.5],"l":[0.25],"thetaX":[0],"thetaY":[0],"thetaZ":[0],"color":[[0.8,0.8,0.55,1]]}},{"name":"mouth","values":{"anim":false,"rx":[-1],"ry":[0.25],"rz":[0],"anchorX":[0],"anchorY":[0],"anchorZ":[0],"w":[0.25],"h":[0.25],"l":[0.75],"thetaX":[0],"thetaY":[0],"thetaZ":[0],"color":[[0.8,0.8,0.55,1]]}}]}]},{"name":"Left Upper Arm","values":{"anim":true,"rx":[0],"ry":[4],"rz":[2.5],"anchorX":[0],"anchorY":[-0.5],"anchorZ":[0],"w":[1],"h":[2],"l":[1],"thetaX":[0],"thetaY":[0],"thetaZ":[0],"color":[[0.8,0.61,0.55,1]],"limits":{"thetaX":{"max":0,"min":-180},"thetaY":{"max":90,"min":-90},"thetaZ":{"max":10,"min":-90}}},"children":[{"name":"Left Lower Arm","values":{"anim":true,"rx":[0],"ry":[-1.5],"rz":[0],"anchorX":[0],"anchorY":[-0.5],"anchorZ":[0],"w":[1],"h":[2],"l":[1],"thetaX":[0],"thetaY":[0],"thetaZ":[0],"color":[[0.8,0.61,0.55,1]],"limits":{"thetaX":{"max":0,"min":0},"thetaY":{"max":0,"min":0},"thetaZ":{"max":0,"min":-110}}},"children":[{"name":"Left Hand","values":{"anim":false,"rx":[0],"ry":[-2],"rz":[0],"anchorX":[0],"anchorY":[-0.5],"anchorZ":[0],"w":[0.5],"h":[0.5],"l":[0.5],"thetaX":[0],"thetaY":[0],"thetaZ":[0],"color":[[0.9,0.31,0.75,1]]}}]}]},{"name":"Right Upper Arm","values":{"anim":true,"rx":[0],"ry":[4],"rz":[-2.5],"anchorX":[0],"anchorY":[-0.5],"anchorZ":[0],"w":[1],"h":[2],"l":[1],"thetaX":[0],"thetaY":[0],"thetaZ":[0],"color":[[0.8,0.61,0.55,1]],"limits":{"thetaX":{"max":180,"min":0},"thetaY":{"max":90,"min":-90},"thetaZ":{"max":10,"min":-90}}},"children":[{"name":"Right Lower Arm","values":{"anim":true,"rx":[0],"ry":[-1.5],"rz":[0],"anchorX":[0],"anchorY":[-0.5],"anchorZ":[0],"w":[1],"h":[2],"l":[1],"thetaX":[0],"thetaY":[0],"thetaZ":[0],"color":[[0.8,0.61,0.55,1]],"limits":{"thetaX":{"max":0,"min":0},"thetaY":{"max":0,"min":0},"thetaZ":{"max":0,"min":-110}}},"children":[{"name":"Right Hand","values":{"anim":false,"rx":[0],"ry":[-2],"rz":[0],"anchorX":[0],"anchorY":[-0.5],"anchorZ":[0],"w":[0.5],"h":[0.5],"l":[0.5],"thetaX":[0],"thetaY":[0],"thetaZ":[0],"color":[[0.9,0.31,0.75,1]]}}]}]}]},{"name":"Left Front Upper Leg","values":{"anim":true,"rx":[-3],"ry":[-5],"rz":[1.5],"anchorX":[0],"anchorY":[-0.5],"anchorZ":[0],"w":[1],"h":[2],"l":[1],"thetaX":[0],"thetaY":[0],"thetaZ":[0],"color":[[0.4,0.16,0.14,1]],"limits":{"thetaX":{"max":0,"min":0},"thetaY":{"max":0,"min":0},"thetaZ":{"max":45,"min":-45}}},"children":[{"name":"Left Front Lower Leg","values":{"anim":true,"rx":[0],"ry":[-2],"rz":[0],"anchorX":[0],"anchorY":[-0.5],"anchorZ":[0],"w":[1],"h":[2],"l":[1],"thetaX":[0],"thetaY":[0],"thetaZ":[0],"color":[[0.31,0.16,0.04,1]],"limits":{"thetaX":{"max":0,"min":0},"thetaY":{"max":0,"min":0},"thetaZ":{"max":160,"min":0}}}}]},{"name":"Right Front Upper Leg","values":{"anim":true,"rx":[-3],"ry":[-5],"rz":[-1.5],"anchorX":[0],"anchorY":[-0.5],"anchorZ":[0],"w":[1],"h":[2],"l":[1],"thetaX":[0],"thetaY":[0],"thetaZ":[0],"color":[[0.4,0.16,0.14,1]],"limits":{"thetaX":{"max":0,"min":0},"thetaY":{"max":0,"min":0},"thetaZ":{"max":45,"min":-45}}},"children":[{"name":"Right Front Lower Leg","values":{"anim":true,"rx":[0],"ry":[-2],"rz":[0],"anchorX":[0],"anchorY":[-0.5],"anchorZ":[0],"w":[1],"h":[2],"l":[1],"thetaX":[0],"thetaY":[0],"thetaZ":[0],"color":[[0.31,0.16,0.04,1]],"limits":{"thetaX":{"max":0,"min":0},"thetaY":{"max":0,"min":0},"thetaZ":{"max":160,"min":0}}}}]},{"name":"Left Back Upper Leg","values":{"anim":true,"rx":[3],"ry":[-5],"rz":[1.5],"anchorX":[0],"anchorY":[-0.5],"anchorZ":[0],"w":[1],"h":[2],"l":[1],"thetaX":[0],"thetaY":[0],"thetaZ":[0],"color":[[0.4,0.16,0.14,1]],"limits":{"thetaX":{"max":0,"min":0},"thetaY":{"max":0,"min":0},"thetaZ":{"max":45,"min":-45}}},"children":[{"name":"Left Back Lower Leg","values":{"anim":true,"rx":[0],"ry":[-2],"rz":[0],"anchorX":[0],"anchorY":[-0.5],"anchorZ":[0],"w":[1],"h":[2],"l":[1],"thetaX":[0],"thetaY":[0],"thetaZ":[0],"color":[[0.31,0.16,0.04,1]],"limits":{"thetaX":{"max":0,"min":0},"thetaY":{"max":0,"min":0},"thetaZ":{"max":160,"min":0}}}}]},{"name":"Right Back Upper Leg","values":{"anim":true,"rx":[3],"ry":[-5],"rz":[-1.5],"anchorX":[0],"anchorY":[-0.5],"anchorZ":[0],"w":[1],"h":[2],"l":[1],"thetaX":[0],"thetaY":[0],"thetaZ":[0],"color":[[0.4,0.16,0.14,1]],"limits":{"thetaX":{"max":0,"min":0},"thetaY":{"max":0,"min":0},"thetaZ":{"max":45,"min":-45}}},"children":[{"name":"Right Back Lower Leg","values":{"anim":true,"rx":[0],"ry":[-2],"rz":[0],"anchorX":[0],"anchorY":[-0.5],"anchorZ":[0],"w":[1],"h":[2],"l":[1],"thetaX":[0],"thetaY":[0],"thetaZ":[0],"color":[[0.31,0.16,0.04,1]],"limits":{"thetaX":{"max":0,"min":0},"thetaY":{"max":0,"min":0},"thetaZ":{"max":160,"min":0}}}}]}]}')},83:function(t,e,a){},90:function(t,e,a){"use strict";a.r(e);var n=a(56),r=(a(83),a(126)),i=a(119),o=a(127),s=a(44),l=a(14),h=a(58),c=a(59),u=function(){function t(){Object(h.a)(this,t),this.state={}}return Object(c.a)(t,[{key:"subscribe",value:function(t,e){this.state[t]||(this.state[t]={val:void 0,cbs:[]}),this.state[t].cbs=[].concat(Object(l.a)(this.state[t].cbs),[e])}},{key:"getState",value:function(t){return this.state[t]?this.state[t].val:null}},{key:"setState",value:function(t,e){this.state[t]||(this.state[t]={val:void 0,cbs:[]}),this.state[t]=Object(s.a)(Object(s.a)({},this.state[t]),{},{val:e}),this.state[t].cbs.forEach((function(t){t()}))}},{key:"serialize",value:function(){var t=Object(s.a)({},this.state);return Object.keys(t).forEach((function(e){t[e].cbs=[]})),JSON.stringify(t)}},{key:"initWith",value:function(t){var e=this,a=JSON.parse(JSON.parse(t));Object.keys(this.state).forEach((function(t){void 0!==a[t]?e.setState(t,a[t].val):console.warn("COULDNT FIND DATA")}))}}],[{key:"getInstance",value:function(){return t.instance||(t.instance=new t),t.instance}}]),t}();u.instance=void 0;var m=a(13),v=a(0),d=a(115),g=a(120),f=a(122),b=a(114),x=a(123),p=a(2);function j(){var t=Object(v.useState)(0),e=Object(m.a)(t,2),a=e[0],n=e[1],r=Object(v.useState)(0),i=Object(m.a)(r,2),o=i[0],s=i[1],l=Object(v.useState)(0),h=Object(m.a)(l,2),c=h[0],j=h[1],y=Object(v.useState)({min:-180,max:180}),w=Object(m.a)(y,2),S=w[0],Y=w[1],O=Object(v.useState)({min:-180,max:180}),X=Object(m.a)(O,2),I=X[0],Z=X[1],A=Object(v.useState)({min:-180,max:180}),L=Object(m.a)(A,2),R=L[0],C=L[1];return u.getInstance().subscribe("slider-2",(function(){n(u.getInstance().getState("slider-2"))})),u.getInstance().subscribe("slider-3",(function(){s(u.getInstance().getState("slider-3"))})),u.getInstance().subscribe("slider-4",(function(){j(u.getInstance().getState("slider-4"))})),u.getInstance().subscribe("limits",(function(){var t=u.getInstance().getState("limits");void 0!==t&&void 0!==t.thetaX?Y(t.thetaX):Y({min:-180,max:180}),void 0!==t&&void 0!==t.thetaY?Z(t.thetaY):Z({min:-180,max:180}),void 0!==t&&void 0!==t.thetaZ?C(t.thetaZ):C({min:-180,max:180})})),Object(p.jsxs)(d.a,{children:[Object(p.jsx)(g.a,{title:"Motion Controls",titleTypographyProps:{variant:"body2",align:"center",color:"common.white"},style:{backgroundColor:"#323638"}}),Object(p.jsxs)(f.a,{style:{backgroundColor:"#3b4245"},children:[Object(p.jsx)(b.a,{size:"small",value:a,min:S.min,max:S.max,"aria-label":"Small",valueLabelDisplay:"auto",onChange:function(t){var e;e=t.target.value,u.getInstance().setState("slider-2",e)}}),Object(p.jsx)(x.a,{}),Object(p.jsx)(b.a,{size:"small",value:o,min:I.min,max:I.max,"aria-label":"Small",valueLabelDisplay:"auto",onChange:function(t){var e;e=t.target.value,u.getInstance().setState("slider-3",e)}}),Object(p.jsx)(x.a,{}),Object(p.jsx)(b.a,{size:"small",value:c,min:R.min,max:R.max,"aria-label":"Small",valueLabelDisplay:"auto",onChange:function(t){var e;e=t.target.value,u.getInstance().setState("slider-4",e)}})]})]})}var y=a(117),w=a(118),S=a(124),Y=a(113);function O(t,e){var a;e.values.anim&&t.push(e.name),null===(a=e.children)||void 0===a||a.forEach((function(e){O(t,e)}))}function X(){var t=[];O(t,u.getInstance().getState("model"));var e=Object(v.useState)(t),a=Object(m.a)(e,2),n=a[0],r=a[1],i=Object(v.useState)("head"),o=Object(m.a)(i,2),s=o[0],l=o[1];return u.getInstance().subscribe("model",(function(){var t=[];O(t,u.getInstance().getState("model")),r(t)})),u.getInstance().subscribe("buttons",(function(){l(u.getInstance().getState("buttons"))})),Object(p.jsxs)(d.a,{children:[Object(p.jsx)(g.a,{title:"Body Parts",titleTypographyProps:{variant:"body2",align:"center",color:"common.white"},style:{backgroundColor:"#323638"}}),Object(p.jsxs)(f.a,{style:{backgroundColor:"#3b4245"},children:[Object(p.jsx)(y.a,{component:"legend"}),Object(p.jsx)(w.a,{"aria-label":"gender",defaultValue:"head",name:"radio-buttons-group",value:s,onChange:function(t){!function(t){var e,a,n,r;u.getInstance().setState("buttons",t),function t(i,o){var s;i.name===o&&(e=i.values.limits,a=i.values.thetaX[i.values.thetaX.length-1],n=i.values.thetaY[i.values.thetaY.length-1],r=i.values.thetaZ[i.values.thetaZ.length-1]),null===(s=i.children)||void 0===s||s.forEach((function(e){t(e,o)}))}(u.getInstance().getState("model"),t),u.getInstance().setState("limits",e),u.getInstance().setState("slider-2",a),u.getInstance().setState("slider-3",n),u.getInstance().setState("slider-4",r)}(t.target.value)},children:n.map((function(t){return Object(p.jsx)(S.a,{value:t,control:Object(p.jsx)(Y.a,{}),label:t})}))})]})]})}var I=a(125),Z=a(64),A=a.n(Z),L=a(65),R=a.n(L),C=a(66),F=a.n(C),E=a(67),k=a.n(E),z=a(68),T=a.n(z);function M(){return Object(p.jsx)(d.a,{children:Object(p.jsxs)(f.a,{style:{backgroundColor:"#3b4245"},children:[Object(p.jsx)(I.a,{onClick:P,children:Object(p.jsx)(A.a,{sx:{color:"white"}})}),Object(p.jsxs)(I.a,{component:"label",children:[Object(p.jsx)(R.a,{sx:{color:"white"}}),Object(p.jsx)("input",{type:"file",hidden:!0,onChange:D})]}),Object(p.jsx)(I.a,{onClick:U,children:Object(p.jsx)(F.a,{sx:{color:"white"}})}),Object(p.jsx)(I.a,{onClick:_,children:Object(p.jsx)(k.a,{sx:{color:"white"}})}),Object(p.jsx)(I.a,{onClick:B,children:Object(p.jsx)(T.a,{sx:{color:"white"}})})]})})}function U(){u.getInstance().setState("play",!0)}function _(){u.getInstance().setState("play",!1)}function B(){u.getInstance().setState("frame",1)}function P(){var t=u.getInstance().serialize(),e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t)),a=document.createElement("a");a.setAttribute("href",e),a.setAttribute("download","Drawing.msl"),document.body.appendChild(a),a.click(),a.remove()}function D(t){var e=new FileReader;e.onload=function(){e.result&&"string"===typeof e.result&&u.getInstance().initWith(e.result)},e.readAsText(t.target.files[0])}var N=a(46);function q(t){return[].concat.apply([],Array.prototype.slice.apply(t))}function W(t){return t*Math.PI/180}function J(){var t=q(arguments);switch(t.length){case 0:t.push(0);case 1:t.push(0)}return t.splice(0,2)}function V(){var t=q(arguments);switch(t.length){case 0:t.push(0);case 1:t.push(0);case 2:t.push(0)}return t.splice(0,3)}function G(){var t=q(arguments);switch(t.length){case 0:t.push(0);case 1:t.push(0);case 2:t.push(0);case 3:t.push(1)}return t.splice(0,4)}function H(){var t=q(arguments),e=[];switch(t.length){case 0:t[0]=1;case 1:e=[G(t[0],0,0,0),G(0,t[0],0,0),G(0,0,t[0],0),G(0,0,0,t[0])];break;default:e.push(G(t)),t.splice(0,4),e.push(G(t)),t.splice(0,4),e.push(G(t)),t.splice(0,4),e.push(G(t))}return e.matrix=!0,e}function K(t,e){var a=[];if(t.matrix&&e.matrix){if(t.length!=e.length)throw"mult(): trying to add matrices of different dimensions";for(var n=0;n<t.length;++n)if(t[n].length!=e[n].length)throw"mult(): trying to add matrices of different dimensions";for(n=0;n<t.length;++n){a.push([]);for(var r=0;r<e.length;++r){for(var i=0,o=0;o<t.length;++o)i+=t[n][o]*e[o][r];a[n].push(i)}}return a.matrix=!0,a}if(t.length!=e.length)throw"mult(): vectors are not the same dimension";for(n=0;n<t.length;++n)a.push(t[n]*e[n]);return a}function Q(t,e,a){Array.isArray(t)&&3==t.length&&(a=t[2],e=t[1],t=t[0]);var n=H();return n[0][3]=t,n[1][3]=e,n[2][3]=a,n}function $(t,e){Array.isArray(e)||(e=[arguments[1],arguments[2],arguments[3]]);var a=at(e),n=a[0],r=a[1],i=a[2],o=Math.cos(W(t)),s=1-o,l=Math.sin(W(t)),h=H(G(n*n*s+o,n*r*s-i*l,n*i*s+r*l,0),G(n*r*s+i*l,r*r*s+o,r*i*s-n*l,0),G(n*i*s-r*l,r*i*s+n*l,i*i*s+o,0),G());return h}function tt(t,e,a,n,r,i){if(t==e)throw"ortho(): left and right are equal";if(a==n)throw"ortho(): bottom and top are equal";if(r==i)throw"ortho(): near and far are equal";var o=e-t,s=n-a,l=i-r,h=H();return h[0][0]=2/o,h[1][1]=2/s,h[2][2]=-2/l,h[0][3]=-(t+e)/o,h[1][3]=-(n+a)/s,h[2][3]=-(r+i)/l,h}function et(t,e){if(t.length!=e.length)throw"dot(): vectors are not the same dimension";for(var a=0,n=0;n<t.length;++n)a+=t[n]*e[n];return a}function at(t,e){if(e)var a=t.pop();var n=function(t){return Math.sqrt(et(t,t))}(t);if(!isFinite(n))throw"normalize: vector "+t+" has zero length";for(var r=0;r<t.length;++r)t[r]/=n;return e&&t.push(a),t}function nt(t){!0===t.matrix&&(t=function(t){if(!t.matrix)return"transpose(): trying to transpose a non-matrix";for(var e=[],a=0;a<t.length;++a){e.push([]);for(var n=0;n<t[a].length;++n)e[a].push(t[n][a])}return e.matrix=!0,e}(t));var e=t.length,a=!1;Array.isArray(t[0])&&(a=!0,e*=t[0].length);var n=new Float32Array(e);if(a)for(var r=0,i=0;i<t.length;++i)for(var o=0;o<t[i].length;++o)n[r++]=t[i][o];else for(i=0;i<t.length;++i)n[i]=t[i];return n}new Float32Array(nt(J())).byteLength,new Float32Array(nt(V())).byteLength,new Float32Array(nt(G())).byteLength,new Float32Array(nt(function(){var t=q(arguments),e=[];switch(t.length){case 0:t[0]=1;case 1:e=[J(t[0],0),J(0,t[0])];break;default:e.push(J(t)),t.splice(0,2),e.push(J(t))}return e.matrix=!0,e}())).byteLength,new Float32Array(nt(function(){var t=q(arguments),e=[];switch(t.length){case 0:t[0]=1;case 1:e=[V(t[0],0,0),V(0,t[0],0),V(0,0,t[0])];break;default:e.push(V(t)),t.splice(0,3),e.push(V(t)),t.splice(0,3),e.push(V(t))}return e.matrix=!0,e}())).byteLength,new Float32Array(nt(H())).byteLength;var rt=function(){var t=function(t,e){for(var a=["webgl","experimental-webgl","webkit-3d","moz-webgl"],n=null,r=0;r<a.length;++r){try{n=t.getContext(a[r],e)}catch(i){}if(n)break}return n};return{create3DContext:t,setupWebGL:function(e,a){function n(t){var a=e.parentNode;a&&(a.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+t+"</div></div></td></tr></table>")}if(!window.WebGLRenderingContext)return n('This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>'),null;var r=t(e,a);return r||n('It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>'),r}}}();window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,1e3/60)};var it,ot,st,lt,ht,ct,ut,mt,vt="\n        attribute  vec4 vPosition;\n        attribute  vec4 vColor;\n        varying vec4 fColor;\n        \n        uniform mat4 modelViewMatrix;\n        uniform mat4 projectionMatrix;\n        \n        void main() \n        {\n            fColor = vColor;\n            gl_Position = projectionMatrix * modelViewMatrix * vPosition;\n        }\n    ",dt="\n        precision mediump float;\n\n        varying  vec4 fColor;\n        \n        void main() \n        { \n            gl_FragColor = fColor;\n        }\n    ",gt=a(69),ft=JSON.parse(JSON.stringify(gt)),bt=[],xt=[],pt=[],jt=[G(-.5,-.5,.5,1),G(-.5,.5,.5,1),G(.5,.5,.5,1),G(.5,-.5,.5,1),G(-.5,-.5,-.5,1),G(-.5,.5,-.5,1),G(.5,.5,-.5,1),G(.5,-.5,-.5,1)],yt=[G(0,0,0,1),G(1,0,0,1),G(1,1,0,1),G(0,1,0,1),G(0,0,1,1),G(1,0,1,1),G(1,1,1,1),G(0,1,1,1)],wt="";function St(){return Object(v.useEffect)(It),Object(p.jsx)(d.a,{children:Object(p.jsx)(f.a,{style:{backgroundColor:"#3b4245"},children:Object(p.jsx)("canvas",{id:"macanvas",width:"520",height:"550"})})})}function Yt(t){var e;t.values.thetaX.push(t.values.thetaX[t.values.thetaX.length-1]),t.values.thetaY.push(t.values.thetaY[t.values.thetaY.length-1]),t.values.thetaZ.push(t.values.thetaZ[t.values.thetaZ.length-1]),null===(e=t.children)||void 0===e||e.forEach((function(t){Yt(t)}))}function Ot(t){var e,a=t.values.thetaX[t.values.thetaX.length-1],n=t.values.thetaX[t.values.thetaX.length-2],r=t.values.thetaY[t.values.thetaY.length-1],i=t.values.thetaY[t.values.thetaY.length-2],o=t.values.thetaZ[t.values.thetaZ.length-1],s=t.values.thetaZ[t.values.thetaZ.length-2],l=Math.abs(a-(void 0!==n?n:a));return l=Math.max(Math.abs(r-(void 0!==i?i:r)),l),l=Math.max(Math.abs(o-(void 0!==s?s:o)),l),null===(e=t.children)||void 0===e||e.forEach((function(t){l=Math.max(l,Ot(t))})),l}function Xt(t,e){var a;if(!(e<1)){for(var n=t.values.thetaX[t.values.thetaX.length-1],r=t.values.thetaX[t.values.thetaX.length-2],i=t.values.thetaY[t.values.thetaY.length-1],o=t.values.thetaY[t.values.thetaY.length-2],s=t.values.thetaZ[t.values.thetaZ.length-1],l=t.values.thetaZ[t.values.thetaZ.length-2],h=(n-(void 0!==r?r:n))/e,c=(i-(void 0!==o?o:i))/e,u=(s-(void 0!==l?l:s))/e,m=t.values.thetaX.pop(),v=t.values.thetaY.pop(),d=t.values.thetaZ.pop(),g=0;g<e;g++)t.values.thetaX.push(t.values.thetaX[t.values.thetaX.length-1]+h),t.values.thetaY.push(t.values.thetaY[t.values.thetaY.length-1]+c),t.values.thetaZ.push(t.values.thetaZ[t.values.thetaZ.length-1]+u);void 0!==m&&void 0!==v&&void 0!==d&&(t.values.thetaX.push(m),t.values.thetaY.push(v),t.values.thetaZ.push(d)),null===(a=t.children)||void 0===a||a.forEach((function(t){Xt(t,e)}))}}function It(){if(!(it=document.getElementById("macanvas")))throw new Error("Couldn't create the ANIM_CANVAS");(ot=rt.setupWebGL(it,null))||alert("WebGL isn't available"),ot.viewport(0,0,it.clientWidth,it.clientHeight),ot.clearColor(.4,.4,.4,1),ot.enable(ot.DEPTH_TEST),st=function(t,e,a){var n,r;if(void 0===e)return alert("Unable to load vertex shader "),-1;if(n=t.createShader(t.VERTEX_SHADER),t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS)){var i="Vertex shader failed to compile.  The error log is:<pre>"+t.getShaderInfoLog(n)+"</pre>";return alert(i),-1}if(void 0===a)return alert("Unable to load Fragment shader "),-1;if(r=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(r,a),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))return i="Fragment shader failed to compile.  The error log is:<pre>"+t.getShaderInfoLog(r)+"</pre>",alert(i),-1;var o=t.createProgram();if(t.attachShader(o,n),t.attachShader(o,r),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))return i="Shader program failed to link.  The error log is:<pre>"+t.getProgramInfoLog(o)+"</pre>",alert(i),-1;return o}(ot,vt,dt),ot.useProgram(st),Lt(1,0,3,2),Lt(2,3,7,6),Lt(3,0,4,7),Lt(6,5,1,2),Lt(4,5,6,7),Lt(5,4,0,1),ut=ot.createBuffer(),ot.bindBuffer(ot.ARRAY_BUFFER,ut),ot.bufferData(ot.ARRAY_BUFFER,nt(bt),ot.STATIC_DRAW);var t=ot.getAttribLocation(st,"vPosition");ot.vertexAttribPointer(t,4,ot.FLOAT,!1,0,0),ot.enableVertexAttribArray(t),mt=ot.createBuffer(),ot.bindBuffer(ot.ARRAY_BUFFER,mt),ot.bufferData(ot.ARRAY_BUFFER,nt(xt),ot.STATIC_DRAW);var e=ot.getAttribLocation(st,"vColor");function a(t,e,n){if(t.name===n){var r,i,o,s,l,h,c=null===(r=t.values)||void 0===r||null===(i=r.limits)||void 0===i||null===(o=i.thetaX)||void 0===o?void 0:o.min,u=null===(s=t.values)||void 0===s||null===(l=s.limits)||void 0===l||null===(h=l.thetaX)||void 0===h?void 0:h.max;return(void 0===u&&void 0===c||void 0!==u&&u>=e&&void 0!==c&&c<=e)&&(t.values.thetaX[t.values.thetaX.length-1]=e),!0}if(t.children){var m,v=Object(N.a)(t.children);try{for(v.s();!(m=v.n()).done;){if(a(m.value,e,n))return!0}}catch(d){v.e(d)}finally{v.f()}}return!1}function n(t,e,a){if(t.name===a){var r,i,o,s,l,h,c=null===(r=t.values)||void 0===r||null===(i=r.limits)||void 0===i||null===(o=i.thetaY)||void 0===o?void 0:o.min,u=null===(s=t.values)||void 0===s||null===(l=s.limits)||void 0===l||null===(h=l.thetaY)||void 0===h?void 0:h.max;return(void 0===u&&void 0===c||void 0!==u&&u>=e&&void 0!==c&&c<=e)&&(t.values.thetaY[t.values.thetaY.length-1]=e),!0}if(t.children){var m,v=Object(N.a)(t.children);try{for(v.s();!(m=v.n()).done;){if(n(m.value,e,a))return!0}}catch(d){v.e(d)}finally{v.f()}}return!1}function r(t,e,a){if(t.name===a){var n,i,o,s,l,h,c=null===(n=t.values)||void 0===n||null===(i=n.limits)||void 0===i||null===(o=i.thetaZ)||void 0===o?void 0:o.min,u=null===(s=t.values)||void 0===s||null===(l=s.limits)||void 0===l||null===(h=l.thetaZ)||void 0===h?void 0:h.max;return(void 0===u&&void 0===c||void 0!==u&&u>=e&&void 0!==c&&c<=e)&&(t.values.thetaZ[t.values.thetaZ.length-1]=e),!0}if(t.children){var m,v=Object(N.a)(t.children);try{for(v.s();!(m=v.n()).done;){if(r(m.value,e,a))return!0}}catch(d){v.e(d)}finally{v.f()}}return!1}ot.vertexAttribPointer(e,4,ot.FLOAT,!1,0,0),ot.enableVertexAttribArray(e),u.getInstance().subscribe("slider-1",(function(){})),u.getInstance().subscribe("slider-2",(function(){var t=u.getInstance().getState("slider-2");a(u.getInstance().getState("model"),t,wt)})),u.getInstance().subscribe("slider-3",(function(){var t=u.getInstance().getState("slider-3");n(u.getInstance().getState("model"),t,wt)})),u.getInstance().subscribe("slider-4",(function(){var t=u.getInstance().getState("slider-4");r(u.getInstance().getState("model"),t,wt)})),u.getInstance().subscribe("buttons",(function(){wt=u.getInstance().getState("buttons")}));var i=15,o=0,s=0,l=0;it.addEventListener("wheel",(function(t){t.preventDefault(),t.shiftKey?t.deltaY>0?o++:o--:t.altKey?t.deltaY>0?s++:s--:t.ctrlKey?t.deltaY>0?l++:l--:t.deltaY>0?i++:i--,ht=K(ht=tt(-i,i,-i,i,-1e3,1e3),$(o,1,0,0)),ht=K(ht,$(s,0,1,0)),ht=K(ht,$(l,0,0,1)),ot.uniformMatrix4fv(ot.getUniformLocation(st,"projectionMatrix"),!1,nt(ht))})),it.addEventListener("mousedown",(function(t){})),ct=ot.getUniformLocation(st,"modelViewMatrix"),ht=tt(-15,15,-15,15,-1e3,1e3),ot.uniformMatrix4fv(ot.getUniformLocation(st,"projectionMatrix"),!1,nt(ht)),console.log(bt),Zt()}function Zt(){setTimeout((function(){ot.clear(ot.COLOR_BUFFER_BIT|ot.DEPTH_BUFFER_BIT),lt=$(0,1,0,0);var t=u.getInstance().getState("frameCount"),e=u.getInstance().getState("play"),a=u.getInstance().getState("currentFrame");a=e?(a+1)%t:t-1,u.getInstance().setState("currentFrame",a),At(u.getInstance().getState("model")),requestAnimationFrame(Zt)}),10)}function At(t){var e=[],a=u.getInstance().getState("currentFrame"),n=t.values.thetaX[a],r=t.values.thetaY[a],i=t.values.thetaZ[a],o=t.values.rx[0],s=t.values.ry[0],l=t.values.rz[0],h=t.values.w[0],c=t.values.h[0],m=t.values.l[0],v=t.values.anchorX[0],d=t.values.anchorY[0],g=t.values.anchorZ[0],f=t.values.color[0];lt=K(lt,Q(o,s,l)),lt=K(lt,$(n,1,0,0)),lt=K(lt,$(r,0,1,0)),lt=K(lt,$(i,0,0,1));var b=function(t,e,a){var n=H();return n[0][0]=t,n[1][1]=e,n[2][2]=a,n}(h,c,m),x=K(Q(v*h,d*c,g*m),b),p=K(lt,x);ot.uniformMatrix4fv(ct,!1,nt(p)),ot.bindBuffer(ot.ARRAY_BUFFER,mt);for(var j=0;j<36;j++)e.push(f);ot.bufferData(ot.ARRAY_BUFFER,nt(e),ot.STATIC_DRAW),ot.drawArrays(ot.TRIANGLES,0,36),pt.push(lt),void 0!==t.children&&t.children.forEach((function(e){t.children&&(At(e),lt=pt.pop(),pt.push(lt))})),pt.pop()}function Lt(t,e,a,n){xt.push(yt[t]),bt.push(jt[t]),xt.push(yt[t]),bt.push(jt[e]),xt.push(yt[t]),bt.push(jt[a]),xt.push(yt[t]),bt.push(jt[t]),xt.push(yt[t]),bt.push(jt[a]),xt.push(yt[t]),bt.push(jt[n])}function Rt(){return u.getInstance().setState("slider-1",20),u.getInstance().setState("slider-2",20),u.getInstance().setState("slider-3",20),u.getInstance().setState("slider-4",20),u.getInstance().setState("timeline",[[{name:"New Recording (".concat(1,")"),z_index:0,visible:!0,id:"".concat(0),shapes:[]}]]),u.getInstance().setState("cur-timeline-node",0),u.getInstance().setState("cropping-layer",{name:"CropRecording",z_index:0,visible:!0,id:"".concat(0),shapes:[]}),u.getInstance().setState("recordings",[{name:"New Recording (".concat(1,")"),z_index:0,visible:!0,id:"".concat(0),shapes:[]}]),u.getInstance().setState("selectedRecording","0"),Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(r.a,{children:Object(p.jsxs)(i.a,{container:!0,rowSpacing:1,columns:{xs:12,sm:12,md:12},children:[Object(p.jsx)(i.a,{item:!0,xs:12,sm:12,md:12,children:Object(p.jsx)(o.a,{mt:1,mb:2,children:Object(p.jsx)(M,{})})}),Object(p.jsx)(i.a,{item:!0,xs:12,sm:12,md:12,children:Object(p.jsxs)(i.a,{container:!0,rowSpacing:1,columns:{xs:12,sm:12,md:12},columnSpacing:{xs:1,sm:2,md:3},children:[Object(p.jsx)(i.a,{item:!0,xs:12,sm:6,md:2,children:Object(p.jsx)(j,{})}),Object(p.jsx)(i.a,{item:!0,xs:12,sm:6,md:6,children:Object(p.jsx)(St,{})}),Object(p.jsx)(i.a,{item:!0,xs:12,sm:6,md:4,children:Object(p.jsx)(X,{})})]})})]})})})}u.getInstance().setState("currentFrame",0),u.getInstance().setState("frameCount",1),u.getInstance().setState("play",!1),u.getInstance().setState("model",ft),u.getInstance().subscribe("frame",(function(){var t=u.getInstance().getState("frameCount");Yt(gt);var e=Math.round(Ot(u.getInstance().getState("model"))/5);Xt(u.getInstance().getState("model"),e),Yt(u.getInstance().getState("model")),t=t+e+1,u.getInstance().setState("frameCount",t)}));var Ct=document.getElementById("root");Object(n.render)(Object(p.jsx)(Rt,{}),Ct)}},[[90,1,2]]]);
//# sourceMappingURL=main.9c470c7a.chunk.js.map